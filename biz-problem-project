{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Miami Restuarant Market Analysis"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Introduction / Business Problem"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Miami, FL is a melting pot of a plethora of different cultures and communities. I was fortunate to grow up in the city and witness this first hand. \n",
    "\n",
    "I have decided that for my final project I will be assisting a new and upcoming restaurant entrepreneur decide where in Miami to open up a restaurant. He has approached me to assist in running  thorough analysis in order to determine the best location to open a new Peruvian Grill Restaurant. I will be assessing the different distictive factors of the neighborhoods that Miami is comprised of in order to come up with the best recommnedation."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Data"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "In order to carry out this analysis I will first have to scrape a table of the different neighborhoods and municipalities in the city of Miami. I will import a table from wikipedia to accomplish this. After this, I will use geopy to obtain the latitude and longitude coordinates for each neighborhood.\n",
    "\n",
    "Now I am ready to feed this data into Foursquare and obtain features/characteristics about each neighborhood."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 296,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "from geopy.geocoders import Nominatim"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 297,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Municipality</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Andover</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>Golden Glades</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Bunche Park</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Carol City</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Coral Way Village</td>\n",
       "      <td>Westchester</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>Cutler</td>\n",
       "      <td>Palmetto Bay</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>Dadeland</td>\n",
       "      <td>Kendall</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>East Perrine</td>\n",
       "      <td>Palmetto Bay</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>Green-Mar Acres</td>\n",
       "      <td>Kendall</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>Hawley Heights</td>\n",
       "      <td>Kendall</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>Howard</td>\n",
       "      <td>Kendall</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>Lake Lucerne</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>Lakes by the Bay</td>\n",
       "      <td>Cutler Bay</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>Norwood (Norland)</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>Opa-locka North</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>Saga Bay</td>\n",
       "      <td>Cutler Bay</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>Scott Lake</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17</td>\n",
       "      <td>South Beach</td>\n",
       "      <td>Miami Beach</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>18</td>\n",
       "      <td>West Kendall</td>\n",
       "      <td>Kendall</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "         Neighborhood   Municipality\n",
       "0             Andover  Miami Gardens\n",
       "1    Biscayne Gardens  Golden Glades\n",
       "2         Bunche Park  Miami Gardens\n",
       "3          Carol City  Miami Gardens\n",
       "4   Coral Way Village    Westchester\n",
       "5              Cutler   Palmetto Bay\n",
       "6            Dadeland        Kendall\n",
       "7        East Perrine   Palmetto Bay\n",
       "8     Green-Mar Acres        Kendall\n",
       "9      Hawley Heights        Kendall\n",
       "10             Howard        Kendall\n",
       "11       Lake Lucerne  Miami Gardens\n",
       "12   Lakes by the Bay     Cutler Bay\n",
       "13  Norwood (Norland)  Miami Gardens\n",
       "14    Opa-locka North  Miami Gardens\n",
       "15           Saga Bay     Cutler Bay\n",
       "16         Scott Lake  Miami Gardens\n",
       "17        South Beach    Miami Beach\n",
       "18       West Kendall        Kendall"
      ]
     },
     "execution_count": 297,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "link = \"https://en.wikipedia.org/wiki/List_of_communities_in_Miami-Dade_County,_Florida\"\n",
    "df = pd.read_html(link, header=0)[2]\n",
    "df.rename(columns = {'District / neighborhood': 'Neighborhood'}, inplace = True)\n",
    "df"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Dropping one Neighborhood that Geopy was not able to find coordinates for"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 298,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Municipality</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Andover</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>Golden Glades</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Bunche Park</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Carol City</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Coral Way Village</td>\n",
       "      <td>Westchester</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>Cutler</td>\n",
       "      <td>Palmetto Bay</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>Dadeland</td>\n",
       "      <td>Kendall</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>East Perrine</td>\n",
       "      <td>Palmetto Bay</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>Green-Mar Acres</td>\n",
       "      <td>Kendall</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>Hawley Heights</td>\n",
       "      <td>Kendall</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>Howard</td>\n",
       "      <td>Kendall</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>Lake Lucerne</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>Lakes by the Bay</td>\n",
       "      <td>Cutler Bay</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>Norwood (Norland)</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>Saga Bay</td>\n",
       "      <td>Cutler Bay</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>Scott Lake</td>\n",
       "      <td>Miami Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>South Beach</td>\n",
       "      <td>Miami Beach</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17</td>\n",
       "      <td>West Kendall</td>\n",
       "      <td>Kendall</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "         Neighborhood   Municipality\n",
       "0             Andover  Miami Gardens\n",
       "1    Biscayne Gardens  Golden Glades\n",
       "2         Bunche Park  Miami Gardens\n",
       "3          Carol City  Miami Gardens\n",
       "4   Coral Way Village    Westchester\n",
       "5              Cutler   Palmetto Bay\n",
       "6            Dadeland        Kendall\n",
       "7        East Perrine   Palmetto Bay\n",
       "8     Green-Mar Acres        Kendall\n",
       "9      Hawley Heights        Kendall\n",
       "10             Howard        Kendall\n",
       "11       Lake Lucerne  Miami Gardens\n",
       "12   Lakes by the Bay     Cutler Bay\n",
       "13  Norwood (Norland)  Miami Gardens\n",
       "14           Saga Bay     Cutler Bay\n",
       "15         Scott Lake  Miami Gardens\n",
       "16        South Beach    Miami Beach\n",
       "17       West Kendall        Kendall"
      ]
     },
     "execution_count": 298,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df_drop = df.drop(14, axis=0)\n",
    "df_drop.reset_index(drop=True, inplace=True)\n",
    "df_drop\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Extracting Latitude and Longitude Coordinates for each Neighborhood\n",
    "\n",
    "#### I attempted using a for loop as show below but for some reason it struggled in finding a reliable connection and had to resort to \n",
    "#### doing it manually as seen further below"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 299,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "\n",
    "#latitude = []\n",
    "#longitude = []\n",
    "\n",
    "\n",
    "#for hood, mun in zip(df['Neighborhood'],df['Municipality']):\n",
    "   # geolocator = Nominatim(user_agent=\"MIA_explorer\")\n",
    "   # address = hood + \", \" + mun    \n",
    "   #location = geolocator.geocode(address)\n",
    "   # lat = location.latitude\n",
    "   # long = location.longitude\n",
    "   # latitude.append(lat)\n",
    "   # longitude.append(long)\n",
    "    \n",
    "   \n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 300,
   "metadata": {},
   "outputs": [],
   "source": [
    "geolocator = Nominatim(user_agent=\"MIA_explorer\")\n",
    "\n",
    "latitude = []\n",
    "longitude = []  \n",
    "    \n",
    "address = df['Neighborhood'][0] + ', ' + df['Municipality'][0] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][1] + ', ' + df['Municipality'][1] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][2] + ', ' + df['Municipality'][2] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][3] + ', ' + df['Municipality'][3] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][4] + ', ' + df['Municipality'][4] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][5] + ', ' + df['Municipality'][5] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][6] + ', ' + df['Municipality'][6] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][7] + ', ' + df['Municipality'][7] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][8] + ', ' + df['Municipality'][8] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][9] + ', ' + df['Municipality'][9] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][10] + ', ' + df['Municipality'][10] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][11] + ', ' + df['Municipality'][11] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][12] + ', ' + df['Municipality'][12] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][13] + ', ' + df['Municipality'][13] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 301,
   "metadata": {},
   "outputs": [],
   "source": [
    "address = df['Neighborhood'][15] + ', ' + df['Municipality'][15] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][16] + ', ' + df['Municipality'][16] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)\n",
    "\n",
    "address = df['Neighborhood'][17] + ', ' + df['Municipality'][17] \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 302,
   "metadata": {},
   "outputs": [],
   "source": [
    "address = df['Neighborhood'][18] + ', ' + df['Municipality'][18] + ', Miami' \n",
    "location = geolocator.geocode(address)\n",
    "lat = location.latitude\n",
    "long = location.longitude\n",
    "latitude.append(lat)\n",
    "longitude.append(long)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 303,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Municipality</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Andover</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.968425</td>\n",
       "      <td>-80.212826</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>Golden Glades</td>\n",
       "      <td>25.921400</td>\n",
       "      <td>-80.217098</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Bunche Park</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.920649</td>\n",
       "      <td>-80.236993</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Carol City</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.940649</td>\n",
       "      <td>-80.245604</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Coral Way Village</td>\n",
       "      <td>Westchester</td>\n",
       "      <td>25.747305</td>\n",
       "      <td>-80.317700</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>Cutler</td>\n",
       "      <td>Palmetto Bay</td>\n",
       "      <td>25.601008</td>\n",
       "      <td>-80.335983</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>Dadeland</td>\n",
       "      <td>Kendall</td>\n",
       "      <td>25.689273</td>\n",
       "      <td>-80.314201</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>East Perrine</td>\n",
       "      <td>Palmetto Bay</td>\n",
       "      <td>25.608716</td>\n",
       "      <td>-80.338942</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>Green-Mar Acres</td>\n",
       "      <td>Kendall</td>\n",
       "      <td>25.670937</td>\n",
       "      <td>-80.342831</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>Hawley Heights</td>\n",
       "      <td>Kendall</td>\n",
       "      <td>25.671813</td>\n",
       "      <td>-80.354861</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>Howard</td>\n",
       "      <td>Kendall</td>\n",
       "      <td>25.647326</td>\n",
       "      <td>-80.334219</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>Lake Lucerne</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.965092</td>\n",
       "      <td>-80.241438</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>Lakes by the Bay</td>\n",
       "      <td>Cutler Bay</td>\n",
       "      <td>25.572329</td>\n",
       "      <td>-80.325331</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>Norwood (Norland)</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.952025</td>\n",
       "      <td>-80.224928</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>Saga Bay</td>\n",
       "      <td>Cutler Bay</td>\n",
       "      <td>25.580373</td>\n",
       "      <td>-80.324675</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>Scott Lake</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.941482</td>\n",
       "      <td>-80.231993</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>South Beach</td>\n",
       "      <td>Miami Beach</td>\n",
       "      <td>25.774429</td>\n",
       "      <td>-80.133241</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17</td>\n",
       "      <td>West Kendall</td>\n",
       "      <td>Kendall</td>\n",
       "      <td>25.671813</td>\n",
       "      <td>-80.354861</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "         Neighborhood   Municipality   Latitude  Longitude\n",
       "0             Andover  Miami Gardens  25.968425 -80.212826\n",
       "1    Biscayne Gardens  Golden Glades  25.921400 -80.217098\n",
       "2         Bunche Park  Miami Gardens  25.920649 -80.236993\n",
       "3          Carol City  Miami Gardens  25.940649 -80.245604\n",
       "4   Coral Way Village    Westchester  25.747305 -80.317700\n",
       "5              Cutler   Palmetto Bay  25.601008 -80.335983\n",
       "6            Dadeland        Kendall  25.689273 -80.314201\n",
       "7        East Perrine   Palmetto Bay  25.608716 -80.338942\n",
       "8     Green-Mar Acres        Kendall  25.670937 -80.342831\n",
       "9      Hawley Heights        Kendall  25.671813 -80.354861\n",
       "10             Howard        Kendall  25.647326 -80.334219\n",
       "11       Lake Lucerne  Miami Gardens  25.965092 -80.241438\n",
       "12   Lakes by the Bay     Cutler Bay  25.572329 -80.325331\n",
       "13  Norwood (Norland)  Miami Gardens  25.952025 -80.224928\n",
       "14           Saga Bay     Cutler Bay  25.580373 -80.324675\n",
       "15         Scott Lake  Miami Gardens  25.941482 -80.231993\n",
       "16        South Beach    Miami Beach  25.774429 -80.133241\n",
       "17       West Kendall        Kendall  25.671813 -80.354861"
      ]
     },
     "execution_count": 303,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df_drop['Latitude'] = latitude\n",
    "df_drop['Longitude'] = longitude\n",
    "df_drop"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Making sure the size is as expected and everything ran fine"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 304,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(18, 4)"
      ]
     },
     "execution_count": 304,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df_drop.shape"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Clustering"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 305,
   "metadata": {},
   "outputs": [],
   "source": [
    "# import k-means from clustering stage\n",
    "from sklearn.cluster import KMeans\n",
    "\n",
    "import folium # map rendering library\n",
    "\n",
    "import requests # library to handle requests\n",
    "from pandas.io.json import json_normalize # tranform JSON file into a pandas dataframe"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 306,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Your credentails:\n",
      "CLIENT_ID: MZTMBBHUAHZE4MN3KTYIC11SEREK2Y3LG1BNDJ5P2HV2XVO1\n",
      "CLIENT_SECRET:WHKC0EIJB33VRMDLRLXW3AQKDDOH0OMO3BNEGTCFZ4RLUNT4\n"
     ]
    }
   ],
   "source": [
    "CLIENT_ID = 'MZTMBBHUAHZE4MN3KTYIC11SEREK2Y3LG1BNDJ5P2HV2XVO1' # your Foursquare ID\n",
    "CLIENT_SECRET = 'WHKC0EIJB33VRMDLRLXW3AQKDDOH0OMO3BNEGTCFZ4RLUNT4' # your Foursquare Secret\n",
    "VERSION = '20180605' # Foursquare API version\n",
    "\n",
    "#Setting Parameters for Foursquare Search\n",
    "LIMIT = 100\n",
    "radius = 1000\n",
    "\n",
    "print('Your credentails:')\n",
    "print('CLIENT_ID: ' + CLIENT_ID)\n",
    "print('CLIENT_SECRET:' + CLIENT_SECRET)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 307,
   "metadata": {},
   "outputs": [],
   "source": [
    "def getNearbyVenues(names, latitudes, longitudes, radius=500):\n",
    "    \n",
    "    venues_list=[]\n",
    "    for name, lat, lng in zip(names, latitudes, longitudes):\n",
    "        print(name)\n",
    "            \n",
    "        # create the API request URL\n",
    "        url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n",
    "            CLIENT_ID, \n",
    "            CLIENT_SECRET, \n",
    "            VERSION, \n",
    "            lat, \n",
    "            lng, \n",
    "            radius, \n",
    "            LIMIT)\n",
    "            \n",
    "        # make the GET request\n",
    "        results = requests.get(url).json()[\"response\"]['groups'][0]['items']\n",
    "        \n",
    "        # return only relevant information for each nearby venue\n",
    "        venues_list.append([(\n",
    "            name, \n",
    "            lat, \n",
    "            lng, \n",
    "            v['venue']['name'], \n",
    "            v['venue']['location']['lat'], \n",
    "            v['venue']['location']['lng'],  \n",
    "            v['venue']['categories'][0]['name']) for v in results])\n",
    "\n",
    "    nearby_venues = pd.DataFrame([item for venue_list in venues_list for item in venue_list])\n",
    "    nearby_venues.columns = ['Neighborhood', \n",
    "                  'Neighborhood Latitude', \n",
    "                  'Neighborhood Longitude', \n",
    "                  'Venue', \n",
    "                  'Venue Latitude', \n",
    "                  'Venue Longitude', \n",
    "                  'Venue Category']\n",
    "    \n",
    "    return(nearby_venues)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 308,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Andover\n",
      "Biscayne Gardens\n",
      "Bunche Park\n",
      "Carol City\n",
      "Coral Way Village\n",
      "Cutler\n",
      "Dadeland\n",
      "East Perrine\n",
      "Green-Mar Acres\n",
      "Hawley Heights\n",
      "Howard\n",
      "Lake Lucerne\n",
      "Lakes by the Bay\n",
      "Norwood (Norland)\n",
      "Saga Bay\n",
      "Scott Lake\n",
      "South Beach\n",
      "West Kendall\n"
     ]
    }
   ],
   "source": [
    "miami_venues = getNearbyVenues(names=df_drop['Neighborhood'],\n",
    "                                   latitudes=df_drop['Latitude'],\n",
    "                                   longitudes=df_drop['Longitude']\n",
    "                                  )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 309,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(268, 7)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Neighborhood Latitude</th>\n",
       "      <th>Neighborhood Longitude</th>\n",
       "      <th>Venue</th>\n",
       "      <th>Venue Latitude</th>\n",
       "      <th>Venue Longitude</th>\n",
       "      <th>Venue Category</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Andover</td>\n",
       "      <td>25.968425</td>\n",
       "      <td>-80.212826</td>\n",
       "      <td>Jennifer Montas</td>\n",
       "      <td>25.969591</td>\n",
       "      <td>-80.215830</td>\n",
       "      <td>Food</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>25.921400</td>\n",
       "      <td>-80.217098</td>\n",
       "      <td>Tri-Rail - Golden Glades Station</td>\n",
       "      <td>25.921458</td>\n",
       "      <td>-80.216983</td>\n",
       "      <td>Train Station</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>25.921400</td>\n",
       "      <td>-80.217098</td>\n",
       "      <td>Miami Gardens FL Plumbers</td>\n",
       "      <td>25.922648</td>\n",
       "      <td>-80.216423</td>\n",
       "      <td>Home Service</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>25.921400</td>\n",
       "      <td>-80.217098</td>\n",
       "      <td>ISCAR GROUND SERVICES CORPORATION</td>\n",
       "      <td>25.920639</td>\n",
       "      <td>-80.218973</td>\n",
       "      <td>Airport Service</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>25.921400</td>\n",
       "      <td>-80.217098</td>\n",
       "      <td>Golden Glades Multimodal Center</td>\n",
       "      <td>25.920781</td>\n",
       "      <td>-80.215115</td>\n",
       "      <td>Bus Station</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "       Neighborhood  Neighborhood Latitude  Neighborhood Longitude  \\\n",
       "0           Andover              25.968425              -80.212826   \n",
       "1  Biscayne Gardens              25.921400              -80.217098   \n",
       "2  Biscayne Gardens              25.921400              -80.217098   \n",
       "3  Biscayne Gardens              25.921400              -80.217098   \n",
       "4  Biscayne Gardens              25.921400              -80.217098   \n",
       "\n",
       "                               Venue  Venue Latitude  Venue Longitude  \\\n",
       "0                    Jennifer Montas       25.969591       -80.215830   \n",
       "1   Tri-Rail - Golden Glades Station       25.921458       -80.216983   \n",
       "2          Miami Gardens FL Plumbers       25.922648       -80.216423   \n",
       "3  ISCAR GROUND SERVICES CORPORATION       25.920639       -80.218973   \n",
       "4    Golden Glades Multimodal Center       25.920781       -80.215115   \n",
       "\n",
       "    Venue Category  \n",
       "0             Food  \n",
       "1    Train Station  \n",
       "2     Home Service  \n",
       "3  Airport Service  \n",
       "4      Bus Station  "
      ]
     },
     "execution_count": 309,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "print(miami_venues.shape)\n",
    "miami_venues.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Checking to see how many venues are located in each neighborhood"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 310,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood Latitude</th>\n",
       "      <th>Neighborhood Longitude</th>\n",
       "      <th>Venue</th>\n",
       "      <th>Venue Latitude</th>\n",
       "      <th>Venue Longitude</th>\n",
       "      <th>Venue Category</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Neighborhood</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>Andover</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Bunche Park</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Carol City</td>\n",
       "      <td>16</td>\n",
       "      <td>16</td>\n",
       "      <td>16</td>\n",
       "      <td>16</td>\n",
       "      <td>16</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Coral Way Village</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Cutler</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Dadeland</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Green-Mar Acres</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Hawley Heights</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Howard</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Lake Lucerne</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Lakes by the Bay</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Norwood (Norland)</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Saga Bay</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Scott Lake</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>South Beach</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>West Kendall</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                   Neighborhood Latitude  Neighborhood Longitude  Venue  \\\n",
       "Neighborhood                                                              \n",
       "Andover                                1                       1      1   \n",
       "Biscayne Gardens                       7                       7      7   \n",
       "Bunche Park                            2                       2      2   \n",
       "Carol City                            16                      16     16   \n",
       "Coral Way Village                      8                       8      8   \n",
       "Cutler                                 2                       2      2   \n",
       "Dadeland                              49                      49     49   \n",
       "Green-Mar Acres                        3                       3      3   \n",
       "Hawley Heights                         6                       6      6   \n",
       "Howard                                49                      49     49   \n",
       "Lake Lucerne                           5                       5      5   \n",
       "Lakes by the Bay                       4                       4      4   \n",
       "Norwood (Norland)                      3                       3      3   \n",
       "Saga Bay                               4                       4      4   \n",
       "Scott Lake                             3                       3      3   \n",
       "South Beach                          100                     100    100   \n",
       "West Kendall                           6                       6      6   \n",
       "\n",
       "                   Venue Latitude  Venue Longitude  Venue Category  \n",
       "Neighborhood                                                        \n",
       "Andover                         1                1               1  \n",
       "Biscayne Gardens                7                7               7  \n",
       "Bunche Park                     2                2               2  \n",
       "Carol City                     16               16              16  \n",
       "Coral Way Village               8                8               8  \n",
       "Cutler                          2                2               2  \n",
       "Dadeland                       49               49              49  \n",
       "Green-Mar Acres                 3                3               3  \n",
       "Hawley Heights                  6                6               6  \n",
       "Howard                         49               49              49  \n",
       "Lake Lucerne                    5                5               5  \n",
       "Lakes by the Bay                4                4               4  \n",
       "Norwood (Norland)               3                3               3  \n",
       "Saga Bay                        4                4               4  \n",
       "Scott Lake                      3                3               3  \n",
       "South Beach                   100              100             100  \n",
       "West Kendall                    6                6               6  "
      ]
     },
     "execution_count": 310,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "miami_venues.groupby('Neighborhood').count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 359,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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i8tvkDQO+Copnu67VM+hvQg41/YIpcmpT8nHeEnSP3PFux2pNVoyp/Bahd9n2P5TC0V+EthS0lK2P7F9OnC6pPfy+oPztWxte66kGczP2C1PEqqWXFExPzdXqMVyzwOWtv2spK2BrwBnSBpp+9flB40w+RBCWzR6oGFrgwwHDRrECSecwJ577vnpsvPPP59nn32WSy65pKFlabQOuQdalk1bXP454AXbF5K6WLcA7gMOUJryi0IXbm/g5fz60LJTXAFcB9xke14rxbkHODyPskXSmpI+U9zA9vPABOA3ypNZS+rB/Eq4N/Barjx3BT5b5VzjgEGSVpHUndSKLSnl55Y+i34tFTqPXv7A9nXAOUD/Vq4zhBAWO4MHD2bYsGELLBs2bBiDBw/uoBLVriPugUKqeA61Pa+s3/lA4BBJc4H/A35t+01JpwMPKj0KMwkYQmpx3izpZeBRoDh0agSp67bYfVuR7ZGSNgYeyWV5DziENC9n0XdJj7E8L+lN4EPgF3nd9cBfJE0AJgNPVznXq5JOIXVVv0oaWFQKiz8G+IOkqaTvZTQtZ+huDpwt6RNgLvCD1q41wuRDCIub/fffn5NOOok5c+aw7LLLMmPGDF555RV22mknzj77bG666SbmzJnDvvvuy6mnnsqMGTP48pe/zE477cTDDz/MmmuuyZ133knPnj0ZNGgQ55xzDgMGDGDWrFkMGDCAGTNmMG/ePI4//ngeeOAB5syZw1FHHcWRRx65yGVvtwrUdsVZRWzPADbLr88gPd5Svs01wDVly+4k3eusZEvSoJ+nC9sPKdu/V+H1BaRBPC2V/x2g4iee78/uUGXXzcq2rVix52MsNJLW9ill70vHm0FqPYcQwhJrlVVWYdttt+Wvf/0re++9N8OGDePAAw/k3nvv5bnnnuOxxx7DNl//+tcZPXo066yzDs899xw33ngjl19+OQcccAC33norhxxySNVz/PnPf6Z3796MHz+eOXPmMHDgQPbYY482PbJSSadLIpJ0PHArcEJHlyWEEELrit24pe7bkSNHMnLkSLbaaiv69+/P008/zXPPPQfAuuuuS79+6S7X1ltvzYwZM1o8/siRIxk6dCj9+vVju+2244033vj0WIui080Havt3wO86uhwhhBBqs88++/CTn/yExx9/nA8//JD+/ftz/fXXc8IJJyzU1TpjxgyW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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "count_chart = miami_venues.groupby('Neighborhood').count()\n",
    "count_chart.reset_index(inplace=True)\n",
    "ax = count_chart.plot.barh(x='Neighborhood', y='Venue')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### How many unique venue categories were there in the data fetched?"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 311,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "There are 108 unique categories.\n"
     ]
    }
   ],
   "source": [
    "print('There are {} unique categories.'.format(len(miami_venues['Venue Category'].unique())))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Analyzing each neighborhood"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 312,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Accessories Store</th>\n",
       "      <th>Airport Service</th>\n",
       "      <th>American Restaurant</th>\n",
       "      <th>Argentinian Restaurant</th>\n",
       "      <th>Art Gallery</th>\n",
       "      <th>Asian Restaurant</th>\n",
       "      <th>Auto Workshop</th>\n",
       "      <th>BBQ Joint</th>\n",
       "      <th>Bakery</th>\n",
       "      <th>...</th>\n",
       "      <th>Tapas Restaurant</th>\n",
       "      <th>Tex-Mex Restaurant</th>\n",
       "      <th>Trail</th>\n",
       "      <th>Train Station</th>\n",
       "      <th>Turkish Restaurant</th>\n",
       "      <th>Vegetarian / Vegan Restaurant</th>\n",
       "      <th>Video Game Store</th>\n",
       "      <th>Vietnamese Restaurant</th>\n",
       "      <th>Wine Shop</th>\n",
       "      <th>Yoga Studio</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Andover</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows  109 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       Neighborhood  Accessories Store  Airport Service  American Restaurant  \\\n",
       "0           Andover                  0                0                    0   \n",
       "1  Biscayne Gardens                  0                0                    0   \n",
       "2  Biscayne Gardens                  0                0                    0   \n",
       "3  Biscayne Gardens                  0                1                    0   \n",
       "4  Biscayne Gardens                  0                0                    0   \n",
       "\n",
       "   Argentinian Restaurant  Art Gallery  Asian Restaurant  Auto Workshop  \\\n",
       "0                       0            0                 0              0   \n",
       "1                       0            0                 0              0   \n",
       "2                       0            0                 0              0   \n",
       "3                       0            0                 0              0   \n",
       "4                       0            0                 0              0   \n",
       "\n",
       "   BBQ Joint  Bakery  ...  Tapas Restaurant  Tex-Mex Restaurant  Trail  \\\n",
       "0          0       0  ...                 0                   0      0   \n",
       "1          0       0  ...                 0                   0      0   \n",
       "2          0       0  ...                 0                   0      0   \n",
       "3          0       0  ...                 0                   0      0   \n",
       "4          0       0  ...                 0                   0      0   \n",
       "\n",
       "   Train Station  Turkish Restaurant  Vegetarian / Vegan Restaurant  \\\n",
       "0              0                   0                              0   \n",
       "1              1                   0                              0   \n",
       "2              0                   0                              0   \n",
       "3              0                   0                              0   \n",
       "4              0                   0                              0   \n",
       "\n",
       "   Video Game Store  Vietnamese Restaurant  Wine Shop  Yoga Studio  \n",
       "0                 0                      0          0            0  \n",
       "1                 0                      0          0            0  \n",
       "2                 0                      0          0            0  \n",
       "3                 0                      0          0            0  \n",
       "4                 0                      0          0            0  \n",
       "\n",
       "[5 rows x 109 columns]"
      ]
     },
     "execution_count": 312,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# one hot encoding\n",
    "miami_onehot = pd.get_dummies(miami_venues[['Venue Category']], prefix=\"\", prefix_sep=\"\")\n",
    "\n",
    "# add neighborhood column back to dataframe\n",
    "miami_onehot['Neighborhood'] = miami_venues['Neighborhood'] \n",
    "\n",
    "# move neighborhood column to the first column\n",
    "fixed_columns = [miami_onehot.columns[-1]] + list(miami_onehot.columns[:-1])\n",
    "miami_onehot = miami_onehot[fixed_columns]\n",
    "\n",
    "miami_onehot.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 313,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(268, 109)"
      ]
     },
     "execution_count": 313,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Examining Shape\n",
    "miami_onehot.shape"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Grouping rows by neighborhood and calculating the mean frequency occurence of each category"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 314,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Accessories Store</th>\n",
       "      <th>Airport Service</th>\n",
       "      <th>American Restaurant</th>\n",
       "      <th>Argentinian Restaurant</th>\n",
       "      <th>Art Gallery</th>\n",
       "      <th>Asian Restaurant</th>\n",
       "      <th>Auto Workshop</th>\n",
       "      <th>BBQ Joint</th>\n",
       "      <th>Bakery</th>\n",
       "      <th>...</th>\n",
       "      <th>Tapas Restaurant</th>\n",
       "      <th>Tex-Mex Restaurant</th>\n",
       "      <th>Trail</th>\n",
       "      <th>Train Station</th>\n",
       "      <th>Turkish Restaurant</th>\n",
       "      <th>Vegetarian / Vegan Restaurant</th>\n",
       "      <th>Video Game Store</th>\n",
       "      <th>Vietnamese Restaurant</th>\n",
       "      <th>Wine Shop</th>\n",
       "      <th>Yoga Studio</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Andover</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.142857</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.142857</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Bunche Park</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Carol City</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.062500</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0625</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Coral Way Village</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.125000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>Cutler</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>Dadeland</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.040816</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020408</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020408</td>\n",
       "      <td>0.020408</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.020408</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020408</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>Green-Mar Acres</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>Hawley Heights</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>Howard</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020408</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.020408</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.020408</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.020408</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>Lake Lucerne</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>Lakes by the Bay</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.2500</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>Norwood (Norland)</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>Saga Bay</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>Scott Lake</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>South Beach</td>\n",
       "      <td>0.01</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020000</td>\n",
       "      <td>0.01</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.010000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.01</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.01</td>\n",
       "      <td>0.01</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.01</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>West Kendall</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>17 rows  109 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "         Neighborhood  Accessories Store  Airport Service  \\\n",
       "0             Andover               0.00         0.000000   \n",
       "1    Biscayne Gardens               0.00         0.142857   \n",
       "2         Bunche Park               0.00         0.000000   \n",
       "3          Carol City               0.00         0.000000   \n",
       "4   Coral Way Village               0.00         0.000000   \n",
       "5              Cutler               0.00         0.000000   \n",
       "6            Dadeland               0.00         0.000000   \n",
       "7     Green-Mar Acres               0.00         0.000000   \n",
       "8      Hawley Heights               0.00         0.000000   \n",
       "9              Howard               0.00         0.000000   \n",
       "10       Lake Lucerne               0.00         0.000000   \n",
       "11   Lakes by the Bay               0.00         0.000000   \n",
       "12  Norwood (Norland)               0.00         0.000000   \n",
       "13           Saga Bay               0.00         0.000000   \n",
       "14         Scott Lake               0.00         0.000000   \n",
       "15        South Beach               0.01         0.000000   \n",
       "16       West Kendall               0.00         0.000000   \n",
       "\n",
       "    American Restaurant  Argentinian Restaurant  Art Gallery  \\\n",
       "0              0.000000                    0.00     0.000000   \n",
       "1              0.000000                    0.00     0.000000   \n",
       "2              0.000000                    0.00     0.000000   \n",
       "3              0.000000                    0.00     0.000000   \n",
       "4              0.000000                    0.00     0.000000   \n",
       "5              0.000000                    0.00     0.000000   \n",
       "6              0.040816                    0.00     0.000000   \n",
       "7              0.000000                    0.00     0.333333   \n",
       "8              0.000000                    0.00     0.000000   \n",
       "9              0.020408                    0.00     0.020408   \n",
       "10             0.000000                    0.00     0.000000   \n",
       "11             0.250000                    0.00     0.000000   \n",
       "12             0.000000                    0.00     0.000000   \n",
       "13             0.000000                    0.00     0.000000   \n",
       "14             0.333333                    0.00     0.000000   \n",
       "15             0.020000                    0.01     0.000000   \n",
       "16             0.000000                    0.00     0.000000   \n",
       "\n",
       "    Asian Restaurant  Auto Workshop  BBQ Joint    Bakery  ...  \\\n",
       "0           0.000000       0.000000   0.000000  0.000000  ...   \n",
       "1           0.000000       0.000000   0.000000  0.000000  ...   \n",
       "2           0.000000       0.000000   0.000000  0.000000  ...   \n",
       "3           0.000000       0.000000   0.000000  0.062500  ...   \n",
       "4           0.000000       0.000000   0.000000  0.125000  ...   \n",
       "5           0.000000       0.000000   0.000000  0.000000  ...   \n",
       "6           0.020408       0.000000   0.020408  0.020408  ...   \n",
       "7           0.000000       0.000000   0.000000  0.000000  ...   \n",
       "8           0.000000       0.000000   0.000000  0.000000  ...   \n",
       "9           0.000000       0.000000   0.000000  0.000000  ...   \n",
       "10          0.000000       0.000000   0.000000  0.000000  ...   \n",
       "11          0.000000       0.000000   0.000000  0.000000  ...   \n",
       "12          0.000000       0.333333   0.000000  0.000000  ...   \n",
       "13          0.000000       0.000000   0.000000  0.000000  ...   \n",
       "14          0.000000       0.000000   0.000000  0.000000  ...   \n",
       "15          0.000000       0.000000   0.000000  0.010000  ...   \n",
       "16          0.000000       0.000000   0.000000  0.000000  ...   \n",
       "\n",
       "    Tapas Restaurant  Tex-Mex Restaurant   Trail  Train Station  \\\n",
       "0               0.00            0.000000  0.0000       0.000000   \n",
       "1               0.00            0.000000  0.0000       0.142857   \n",
       "2               0.00            0.000000  0.0000       0.000000   \n",
       "3               0.00            0.000000  0.0625       0.000000   \n",
       "4               0.00            0.000000  0.0000       0.000000   \n",
       "5               0.00            0.000000  0.0000       0.000000   \n",
       "6               0.00            0.020408  0.0000       0.000000   \n",
       "7               0.00            0.000000  0.0000       0.000000   \n",
       "8               0.00            0.000000  0.0000       0.000000   \n",
       "9               0.00            0.000000  0.0000       0.000000   \n",
       "10              0.00            0.000000  0.0000       0.000000   \n",
       "11              0.00            0.000000  0.2500       0.000000   \n",
       "12              0.00            0.000000  0.0000       0.000000   \n",
       "13              0.00            0.000000  0.0000       0.000000   \n",
       "14              0.00            0.000000  0.0000       0.000000   \n",
       "15              0.01            0.000000  0.0000       0.000000   \n",
       "16              0.00            0.000000  0.0000       0.000000   \n",
       "\n",
       "    Turkish Restaurant  Vegetarian / Vegan Restaurant  Video Game Store  \\\n",
       "0                 0.00                           0.00          0.000000   \n",
       "1                 0.00                           0.00          0.000000   \n",
       "2                 0.00                           0.00          0.000000   \n",
       "3                 0.00                           0.00          0.000000   \n",
       "4                 0.00                           0.00          0.000000   \n",
       "5                 0.00                           0.00          0.000000   \n",
       "6                 0.00                           0.00          0.000000   \n",
       "7                 0.00                           0.00          0.000000   \n",
       "8                 0.00                           0.00          0.000000   \n",
       "9                 0.00                           0.00          0.020408   \n",
       "10                0.00                           0.00          0.000000   \n",
       "11                0.00                           0.00          0.000000   \n",
       "12                0.00                           0.00          0.000000   \n",
       "13                0.00                           0.00          0.000000   \n",
       "14                0.00                           0.00          0.000000   \n",
       "15                0.01                           0.01          0.000000   \n",
       "16                0.00                           0.00          0.000000   \n",
       "\n",
       "    Vietnamese Restaurant  Wine Shop  Yoga Studio  \n",
       "0                    0.00   0.000000     0.000000  \n",
       "1                    0.00   0.000000     0.000000  \n",
       "2                    0.00   0.000000     0.000000  \n",
       "3                    0.00   0.000000     0.000000  \n",
       "4                    0.00   0.000000     0.000000  \n",
       "5                    0.00   0.000000     0.000000  \n",
       "6                    0.00   0.000000     0.020408  \n",
       "7                    0.00   0.000000     0.333333  \n",
       "8                    0.00   0.000000     0.000000  \n",
       "9                    0.00   0.020408     0.000000  \n",
       "10                   0.00   0.000000     0.000000  \n",
       "11                   0.00   0.000000     0.000000  \n",
       "12                   0.00   0.000000     0.000000  \n",
       "13                   0.00   0.000000     0.000000  \n",
       "14                   0.00   0.000000     0.000000  \n",
       "15                   0.01   0.000000     0.020000  \n",
       "16                   0.00   0.000000     0.000000  \n",
       "\n",
       "[17 rows x 109 columns]"
      ]
     },
     "execution_count": 314,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "miami_grouped = miami_onehot.groupby('Neighborhood').mean().reset_index()\n",
    "miami_grouped"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Printing each neighborhood with its most common venue category"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 315,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "----Andover----\n",
      "                 venue  freq\n",
      "0                 Food   1.0\n",
      "1    Accessories Store   0.0\n",
      "2    Mobile Phone Shop   0.0\n",
      "3  Rental Car Location   0.0\n",
      "4                 Pool   0.0\n",
      "\n",
      "\n",
      "----Biscayne Gardens----\n",
      "             venue  freq\n",
      "0      Bus Station  0.43\n",
      "1         Building  0.14\n",
      "2  Airport Service  0.14\n",
      "3     Home Service  0.14\n",
      "4    Train Station  0.14\n",
      "\n",
      "\n",
      "----Bunche Park----\n",
      "                venue  freq\n",
      "0  Salon / Barbershop   0.5\n",
      "1                Park   0.5\n",
      "2   Accessories Store   0.0\n",
      "3  Miscellaneous Shop   0.0\n",
      "4                Pool   0.0\n",
      "\n",
      "\n",
      "----Carol City----\n",
      "                  venue  freq\n",
      "0  Fast Food Restaurant  0.25\n",
      "1         Grocery Store  0.06\n",
      "2                Bakery  0.06\n",
      "3      Department Store  0.06\n",
      "4            Strip Club  0.06\n",
      "\n",
      "\n",
      "----Coral Way Village----\n",
      "                  venue  freq\n",
      "0             Cafeteria  0.12\n",
      "1           Pizza Place  0.12\n",
      "2  Fast Food Restaurant  0.12\n",
      "3                Bakery  0.12\n",
      "4                Market  0.12\n",
      "\n",
      "\n",
      "----Cutler----\n",
      "                 venue  freq\n",
      "0           Lighthouse   0.5\n",
      "1        Grocery Store   0.5\n",
      "2    Accessories Store   0.0\n",
      "3    Mobile Phone Shop   0.0\n",
      "4  Rental Car Location   0.0\n",
      "\n",
      "\n",
      "----Dadeland----\n",
      "                    venue  freq\n",
      "0          Clothing Store  0.14\n",
      "1        Department Store  0.08\n",
      "2             Coffee Shop  0.08\n",
      "3     American Restaurant  0.04\n",
      "4  Furniture / Home Store  0.04\n",
      "\n",
      "\n",
      "----Green-Mar Acres----\n",
      "                 venue  freq\n",
      "0          Yoga Studio  0.33\n",
      "1          Art Gallery  0.33\n",
      "2           Playground  0.33\n",
      "3   Miscellaneous Shop  0.00\n",
      "4  Rental Car Location  0.00\n",
      "\n",
      "\n",
      "----Hawley Heights----\n",
      "             venue  freq\n",
      "0     Burger Joint  0.17\n",
      "1      Golf Course  0.17\n",
      "2             Pool  0.17\n",
      "3     Soccer Field  0.17\n",
      "4  Bed & Breakfast  0.17\n",
      "\n",
      "\n",
      "----Howard----\n",
      "                 venue  freq\n",
      "0        Grocery Store  0.06\n",
      "1           Restaurant  0.04\n",
      "2  Sporting Goods Shop  0.04\n",
      "3         Burger Joint  0.04\n",
      "4   Italian Restaurant  0.04\n",
      "\n",
      "\n",
      "----Lake Lucerne----\n",
      "                 venue  freq\n",
      "0           Restaurant   0.6\n",
      "1               Casino   0.4\n",
      "2    Accessories Store   0.0\n",
      "3    Mobile Phone Shop   0.0\n",
      "4  Rental Car Location   0.0\n",
      "\n",
      "\n",
      "----Lakes by the Bay----\n",
      "                 venue  freq\n",
      "0  American Restaurant  0.25\n",
      "1  Housing Development  0.25\n",
      "2                Trail  0.25\n",
      "3                  Gym  0.25\n",
      "4    Accessories Store  0.00\n",
      "\n",
      "\n",
      "----Norwood (Norland)----\n",
      "               venue  freq\n",
      "0      Auto Workshop  0.33\n",
      "1               Park  0.33\n",
      "2         Food Truck  0.33\n",
      "3  Accessories Store  0.00\n",
      "4  Mobile Phone Shop  0.00\n",
      "\n",
      "\n",
      "----Saga Bay----\n",
      "               venue  freq\n",
      "0              Beach  0.50\n",
      "1       Concert Hall  0.25\n",
      "2      Grocery Store  0.25\n",
      "3  Mobile Phone Shop  0.00\n",
      "4             Resort  0.00\n",
      "\n",
      "\n",
      "----Scott Lake----\n",
      "                 venue  freq\n",
      "0  American Restaurant  0.33\n",
      "1       Discount Store  0.33\n",
      "2          Snack Place  0.33\n",
      "3    Accessories Store  0.00\n",
      "4    Mobile Phone Shop  0.00\n",
      "\n",
      "\n",
      "----South Beach----\n",
      "                venue  freq\n",
      "0               Hotel  0.13\n",
      "1      Clothing Store  0.08\n",
      "2               Beach  0.04\n",
      "3  Seafood Restaurant  0.04\n",
      "4            Pharmacy  0.04\n",
      "\n",
      "\n",
      "----West Kendall----\n",
      "             venue  freq\n",
      "0     Burger Joint  0.17\n",
      "1      Golf Course  0.17\n",
      "2             Pool  0.17\n",
      "3     Soccer Field  0.17\n",
      "4  Bed & Breakfast  0.17\n",
      "\n",
      "\n"
     ]
    }
   ],
   "source": [
    "num_top_venues = 5\n",
    "\n",
    "for hood in miami_grouped['Neighborhood']:\n",
    "    print(\"----\"+hood+\"----\")\n",
    "    temp = miami_grouped[miami_grouped['Neighborhood'] == hood].T.reset_index()\n",
    "    temp.columns = ['venue','freq']\n",
    "    temp = temp.iloc[1:]\n",
    "    temp['freq'] = temp['freq'].astype(float)\n",
    "    temp = temp.round({'freq': 2})\n",
    "    print(temp.sort_values('freq', ascending=False).reset_index(drop=True).head(num_top_venues))\n",
    "    print('\\n')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Converting these new findings into a dataframe"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 316,
   "metadata": {},
   "outputs": [],
   "source": [
    "def return_most_common_venues(row, num_top_venues):\n",
    "    row_categories = row.iloc[1:]\n",
    "    row_categories_sorted = row_categories.sort_values(ascending=False)\n",
    "    \n",
    "    return row_categories_sorted.index.values[0:num_top_venues]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 317,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Andover</td>\n",
       "      <td>Food</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>Bus Station</td>\n",
       "      <td>Building</td>\n",
       "      <td>Airport Service</td>\n",
       "      <td>Home Service</td>\n",
       "      <td>Train Station</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Bunche Park</td>\n",
       "      <td>Salon / Barbershop</td>\n",
       "      <td>Park</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Carol City</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Miscellaneous Shop</td>\n",
       "      <td>Strip Club</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Grocery Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Coral Way Village</td>\n",
       "      <td>Spa</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Cafeteria</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Market</td>\n",
       "      <td>Gas Station</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Greek Restaurant</td>\n",
       "      <td>Grocery Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "        Neighborhood 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "0            Andover                  Food           Yoga Studio   \n",
       "1   Biscayne Gardens           Bus Station              Building   \n",
       "2        Bunche Park    Salon / Barbershop                  Park   \n",
       "3         Carol City  Fast Food Restaurant      Department Store   \n",
       "4  Coral Way Village                   Spa                Bakery   \n",
       "\n",
       "  3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "0     French Restaurant     Convenience Store        Cosmetics Shop   \n",
       "1       Airport Service          Home Service         Train Station   \n",
       "2           Yoga Studio           Coffee Shop     Convenience Store   \n",
       "3    Seafood Restaurant        Sandwich Place    Miscellaneous Shop   \n",
       "4             Cafeteria  Fast Food Restaurant                Market   \n",
       "\n",
       "  6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "0      Cuban Restaurant          Dance Studio         Deli / Bodega   \n",
       "1           Yoga Studio        Cosmetics Shop      Cuban Restaurant   \n",
       "2        Cosmetics Shop      Cuban Restaurant          Dance Studio   \n",
       "3            Strip Club                Bakery  Caribbean Restaurant   \n",
       "4           Gas Station      Sushi Restaurant           Pizza Place   \n",
       "\n",
       "  9th Most Common Venue 10th Most Common Venue  \n",
       "0      Department Store         Discount Store  \n",
       "1          Dance Studio          Deli / Bodega  \n",
       "2         Deli / Bodega       Department Store  \n",
       "3                 Trail          Grocery Store  \n",
       "4      Greek Restaurant          Grocery Store  "
      ]
     },
     "execution_count": 317,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "num_top_venues = 10\n",
    "\n",
    "indicators = ['st', 'nd', 'rd']\n",
    "\n",
    "# create columns according to number of top venues\n",
    "columns = ['Neighborhood']\n",
    "for ind in np.arange(num_top_venues):\n",
    "    try:\n",
    "        columns.append('{}{} Most Common Venue'.format(ind+1, indicators[ind]))\n",
    "    except:\n",
    "        columns.append('{}th Most Common Venue'.format(ind+1))\n",
    "\n",
    "# create a new dataframe\n",
    "neighborhoods_venues_sorted = pd.DataFrame(columns=columns)\n",
    "neighborhoods_venues_sorted['Neighborhood'] = miami_grouped['Neighborhood']\n",
    "\n",
    "for ind in np.arange(miami_grouped.shape[0]):\n",
    "    neighborhoods_venues_sorted.iloc[ind, 1:] = return_most_common_venues(miami_grouped.iloc[ind, :], num_top_venues)\n",
    "\n",
    "neighborhoods_venues_sorted.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 365,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>Dadeland</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Jewelry Store</td>\n",
       "      <td>Kids Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>1</td>\n",
       "      <td>Green-Mar Acres</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Art Gallery</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>1</td>\n",
       "      <td>Hawley Heights</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Caf</td>\n",
       "      <td>Bed &amp; Breakfast</td>\n",
       "      <td>Soccer Field</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>1</td>\n",
       "      <td>Howard</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Hardware Store</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Burger Joint</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>3</td>\n",
       "      <td>Lake Lucerne</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Casino</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>1</td>\n",
       "      <td>Lakes by the Bay</td>\n",
       "      <td>Housing Development</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>4</td>\n",
       "      <td>Norwood (Norland)</td>\n",
       "      <td>Park</td>\n",
       "      <td>Auto Workshop</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>1</td>\n",
       "      <td>Saga Bay</td>\n",
       "      <td>Beach</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Concert Hall</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>1</td>\n",
       "      <td>Scott Lake</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Snack Place</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>1</td>\n",
       "      <td>South Beach</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "      <td>Beach</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Park</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pizza Place</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>1</td>\n",
       "      <td>West Kendall</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Caf</td>\n",
       "      <td>Bed &amp; Breakfast</td>\n",
       "      <td>Soccer Field</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "    Cluster Labels       Neighborhood 1st Most Common Venue  \\\n",
       "6                1           Dadeland        Clothing Store   \n",
       "7                1    Green-Mar Acres           Yoga Studio   \n",
       "8                1     Hawley Heights                  Pool   \n",
       "9                1             Howard         Grocery Store   \n",
       "10               3       Lake Lucerne            Restaurant   \n",
       "11               1   Lakes by the Bay   Housing Development   \n",
       "12               4  Norwood (Norland)                  Park   \n",
       "13               1           Saga Bay                 Beach   \n",
       "14               1         Scott Lake   American Restaurant   \n",
       "15               1        South Beach                 Hotel   \n",
       "16               1       West Kendall                  Pool   \n",
       "\n",
       "   2nd Most Common Venue 3rd Most Common Venue   4th Most Common Venue  \\\n",
       "6       Department Store           Coffee Shop  Furniture / Home Store   \n",
       "7             Playground           Art Gallery       French Restaurant   \n",
       "8           Burger Joint           Golf Course                    Caf   \n",
       "9             Restaurant        Hardware Store     Sporting Goods Shop   \n",
       "10                Casino           Yoga Studio             Coffee Shop   \n",
       "11   American Restaurant                 Trail                     Gym   \n",
       "12         Auto Workshop            Food Truck             Yoga Studio   \n",
       "13         Grocery Store          Concert Hall             Yoga Studio   \n",
       "14        Discount Store           Snack Place             Yoga Studio   \n",
       "15        Clothing Store    Seafood Restaurant                   Beach   \n",
       "16          Burger Joint           Golf Course                    Caf   \n",
       "\n",
       "   5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n",
       "6    American Restaurant     Indian Restaurant    Italian Restaurant   \n",
       "7         Cosmetics Shop      Cuban Restaurant          Dance Studio   \n",
       "8        Bed & Breakfast          Soccer Field     Convenience Store   \n",
       "9               Pharmacy    Italian Restaurant  Fast Food Restaurant   \n",
       "10     Convenience Store        Cosmetics Shop      Cuban Restaurant   \n",
       "11            Food Truck     Convenience Store        Cosmetics Shop   \n",
       "12     French Restaurant        Cosmetics Shop      Cuban Restaurant   \n",
       "13     French Restaurant        Cosmetics Shop      Cuban Restaurant   \n",
       "14            Food Truck     Convenience Store        Cosmetics Shop   \n",
       "15              Pharmacy    Italian Restaurant      Cuban Restaurant   \n",
       "16       Bed & Breakfast          Soccer Field     Convenience Store   \n",
       "\n",
       "   8th Most Common Venue   9th Most Common Venue 10th Most Common Venue  \n",
       "6    Japanese Restaurant           Jewelry Store             Kids Store  \n",
       "7          Deli / Bodega        Department Store         Discount Store  \n",
       "8         Cosmetics Shop        Cuban Restaurant           Dance Studio  \n",
       "9   Gym / Fitness Center  Furniture / Home Store           Burger Joint  \n",
       "10          Dance Studio           Deli / Bodega       Department Store  \n",
       "11      Cuban Restaurant            Dance Studio          Deli / Bodega  \n",
       "12          Dance Studio           Deli / Bodega       Department Store  \n",
       "13          Dance Studio           Deli / Bodega       Department Store  \n",
       "14      Cuban Restaurant            Dance Studio          Deli / Bodega  \n",
       "15                  Park             Coffee Shop            Pizza Place  \n",
       "16        Cosmetics Shop        Cuban Restaurant           Dance Studio  "
      ]
     },
     "execution_count": 365,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "neighborhoods_venues_sorted.tail(11)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Clustering Neighborhoods"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Run k-means to cluster neighborhoods into 5 clusters based on venue categories"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 318,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([2, 1, 4, 1, 1, 0, 1, 1, 1, 1], dtype=int32)"
      ]
     },
     "execution_count": 318,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# set number of clusters\n",
    "kclusters = 5\n",
    "\n",
    "miami_grouped_clustering = miami_grouped.drop('Neighborhood', 1)\n",
    "\n",
    "# run k-means clustering\n",
    "kmeans = KMeans(n_clusters=kclusters, random_state=0).fit(miami_grouped_clustering)\n",
    "\n",
    "# check cluster labels generated for each row in the dataframe\n",
    "kmeans.labels_[0:10] "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Finding optimal value of k using elbow method"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 339,
   "metadata": {},
   "outputs": [],
   "source": [
    "distortion = []\n",
    "for i in np.arange(8):\n",
    "    kmeans = KMeans(n_clusters=i+1).fit(miami_grouped_clustering)\n",
    "    distortion.append(kmeans.inertia_)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 347,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([1, 2, 3, 4, 5, 6, 7, 8])"
      ]
     },
     "execution_count": 347,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "x = np.arange(8)\n",
    "x = x+1\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 355,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0.5, 1.0, 'Elbow Method to Determine Optimal K')"
      ]
     },
     "execution_count": 355,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "%matplotlib inline\n",
    "import matplotlib.pyplot as plt\n",
    "\n",
    "plt.plot(x, distortion, '-ok');\n",
    "plt.xlabel('Value of k')\n",
    "plt.ylabel('Inertia')\n",
    "plt.title('Elbow Method to Determine Optimal K')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Creating new dataframe that includes cluster labels"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 319,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Index(['Neighborhood', '1st Most Common Venue', '2nd Most Common Venue',\n",
       "       '3rd Most Common Venue', '4th Most Common Venue',\n",
       "       '5th Most Common Venue', '6th Most Common Venue',\n",
       "       '7th Most Common Venue', '8th Most Common Venue',\n",
       "       '9th Most Common Venue', '10th Most Common Venue'],\n",
       "      dtype='object')"
      ]
     },
     "execution_count": 319,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "neighborhoods_venues_sorted.columns"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 320,
   "metadata": {},
   "outputs": [],
   "source": [
    "df_drop.drop(index = 7,inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 321,
   "metadata": {},
   "outputs": [],
   "source": [
    "df_drop.reset_index(drop=True, inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 322,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "# add clustering labels\n",
    "neighborhoods_venues_sorted.insert(0, 'Cluster Labels', kmeans.labels_)\n",
    "\n",
    "miami_merged = df_drop\n",
    "\n",
    "# merge toronto_grouped with toronto_data to add latitude/longitude for each neighborhood\n",
    "miami_merged = miami_merged.join(neighborhoods_venues_sorted.set_index('Neighborhood'), on='Neighborhood')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 323,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "      <td>Andover</td>\n",
       "      <td>Food</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>Bus Station</td>\n",
       "      <td>Building</td>\n",
       "      <td>Airport Service</td>\n",
       "      <td>Home Service</td>\n",
       "      <td>Train Station</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>4</td>\n",
       "      <td>Bunche Park</td>\n",
       "      <td>Salon / Barbershop</td>\n",
       "      <td>Park</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>1</td>\n",
       "      <td>Carol City</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Miscellaneous Shop</td>\n",
       "      <td>Strip Club</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Grocery Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>1</td>\n",
       "      <td>Coral Way Village</td>\n",
       "      <td>Spa</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Cafeteria</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Market</td>\n",
       "      <td>Gas Station</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Greek Restaurant</td>\n",
       "      <td>Grocery Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "      <td>Cutler</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Lighthouse</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>Dadeland</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Jewelry Store</td>\n",
       "      <td>Kids Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>1</td>\n",
       "      <td>Green-Mar Acres</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Art Gallery</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>1</td>\n",
       "      <td>Hawley Heights</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Caf</td>\n",
       "      <td>Bed &amp; Breakfast</td>\n",
       "      <td>Soccer Field</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>1</td>\n",
       "      <td>Howard</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Hardware Store</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Burger Joint</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>3</td>\n",
       "      <td>Lake Lucerne</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Casino</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>1</td>\n",
       "      <td>Lakes by the Bay</td>\n",
       "      <td>Housing Development</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>4</td>\n",
       "      <td>Norwood (Norland)</td>\n",
       "      <td>Park</td>\n",
       "      <td>Auto Workshop</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>1</td>\n",
       "      <td>Saga Bay</td>\n",
       "      <td>Beach</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Concert Hall</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>1</td>\n",
       "      <td>Scott Lake</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Snack Place</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>1</td>\n",
       "      <td>South Beach</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "      <td>Beach</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Park</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pizza Place</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>1</td>\n",
       "      <td>West Kendall</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Caf</td>\n",
       "      <td>Bed &amp; Breakfast</td>\n",
       "      <td>Soccer Field</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "    Cluster Labels       Neighborhood 1st Most Common Venue  \\\n",
       "0                2            Andover                  Food   \n",
       "1                1   Biscayne Gardens           Bus Station   \n",
       "2                4        Bunche Park    Salon / Barbershop   \n",
       "3                1         Carol City  Fast Food Restaurant   \n",
       "4                1  Coral Way Village                   Spa   \n",
       "5                0             Cutler         Grocery Store   \n",
       "6                1           Dadeland        Clothing Store   \n",
       "7                1    Green-Mar Acres           Yoga Studio   \n",
       "8                1     Hawley Heights                  Pool   \n",
       "9                1             Howard         Grocery Store   \n",
       "10               3       Lake Lucerne            Restaurant   \n",
       "11               1   Lakes by the Bay   Housing Development   \n",
       "12               4  Norwood (Norland)                  Park   \n",
       "13               1           Saga Bay                 Beach   \n",
       "14               1         Scott Lake   American Restaurant   \n",
       "15               1        South Beach                 Hotel   \n",
       "16               1       West Kendall                  Pool   \n",
       "\n",
       "   2nd Most Common Venue 3rd Most Common Venue   4th Most Common Venue  \\\n",
       "0            Yoga Studio     French Restaurant       Convenience Store   \n",
       "1               Building       Airport Service            Home Service   \n",
       "2                   Park           Yoga Studio             Coffee Shop   \n",
       "3       Department Store    Seafood Restaurant          Sandwich Place   \n",
       "4                 Bakery             Cafeteria    Fast Food Restaurant   \n",
       "5             Lighthouse           Yoga Studio              Food Truck   \n",
       "6       Department Store           Coffee Shop  Furniture / Home Store   \n",
       "7             Playground           Art Gallery       French Restaurant   \n",
       "8           Burger Joint           Golf Course                    Caf   \n",
       "9             Restaurant        Hardware Store     Sporting Goods Shop   \n",
       "10                Casino           Yoga Studio             Coffee Shop   \n",
       "11   American Restaurant                 Trail                     Gym   \n",
       "12         Auto Workshop            Food Truck             Yoga Studio   \n",
       "13         Grocery Store          Concert Hall             Yoga Studio   \n",
       "14        Discount Store           Snack Place             Yoga Studio   \n",
       "15        Clothing Store    Seafood Restaurant                   Beach   \n",
       "16          Burger Joint           Golf Course                    Caf   \n",
       "\n",
       "   5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n",
       "0         Cosmetics Shop      Cuban Restaurant          Dance Studio   \n",
       "1          Train Station           Yoga Studio        Cosmetics Shop   \n",
       "2      Convenience Store        Cosmetics Shop      Cuban Restaurant   \n",
       "3     Miscellaneous Shop            Strip Club                Bakery   \n",
       "4                 Market           Gas Station      Sushi Restaurant   \n",
       "5      Convenience Store        Cosmetics Shop      Cuban Restaurant   \n",
       "6    American Restaurant     Indian Restaurant    Italian Restaurant   \n",
       "7         Cosmetics Shop      Cuban Restaurant          Dance Studio   \n",
       "8        Bed & Breakfast          Soccer Field     Convenience Store   \n",
       "9               Pharmacy    Italian Restaurant  Fast Food Restaurant   \n",
       "10     Convenience Store        Cosmetics Shop      Cuban Restaurant   \n",
       "11            Food Truck     Convenience Store        Cosmetics Shop   \n",
       "12     French Restaurant        Cosmetics Shop      Cuban Restaurant   \n",
       "13     French Restaurant        Cosmetics Shop      Cuban Restaurant   \n",
       "14            Food Truck     Convenience Store        Cosmetics Shop   \n",
       "15              Pharmacy    Italian Restaurant      Cuban Restaurant   \n",
       "16       Bed & Breakfast          Soccer Field     Convenience Store   \n",
       "\n",
       "   8th Most Common Venue   9th Most Common Venue 10th Most Common Venue  \n",
       "0          Deli / Bodega        Department Store         Discount Store  \n",
       "1       Cuban Restaurant            Dance Studio          Deli / Bodega  \n",
       "2           Dance Studio           Deli / Bodega       Department Store  \n",
       "3   Caribbean Restaurant                   Trail          Grocery Store  \n",
       "4            Pizza Place        Greek Restaurant          Grocery Store  \n",
       "5           Dance Studio           Deli / Bodega       Department Store  \n",
       "6    Japanese Restaurant           Jewelry Store             Kids Store  \n",
       "7          Deli / Bodega        Department Store         Discount Store  \n",
       "8         Cosmetics Shop        Cuban Restaurant           Dance Studio  \n",
       "9   Gym / Fitness Center  Furniture / Home Store           Burger Joint  \n",
       "10          Dance Studio           Deli / Bodega       Department Store  \n",
       "11      Cuban Restaurant            Dance Studio          Deli / Bodega  \n",
       "12          Dance Studio           Deli / Bodega       Department Store  \n",
       "13          Dance Studio           Deli / Bodega       Department Store  \n",
       "14      Cuban Restaurant            Dance Studio          Deli / Bodega  \n",
       "15                  Park             Coffee Shop            Pizza Place  \n",
       "16        Cosmetics Shop        Cuban Restaurant           Dance Studio  "
      ]
     },
     "execution_count": 323,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "neighborhoods_venues_sorted"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 324,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Municipality</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Andover</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.968425</td>\n",
       "      <td>-80.212826</td>\n",
       "      <td>2</td>\n",
       "      <td>Food</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>Golden Glades</td>\n",
       "      <td>25.921400</td>\n",
       "      <td>-80.217098</td>\n",
       "      <td>1</td>\n",
       "      <td>Bus Station</td>\n",
       "      <td>Building</td>\n",
       "      <td>Airport Service</td>\n",
       "      <td>Home Service</td>\n",
       "      <td>Train Station</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Bunche Park</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.920649</td>\n",
       "      <td>-80.236993</td>\n",
       "      <td>4</td>\n",
       "      <td>Salon / Barbershop</td>\n",
       "      <td>Park</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Carol City</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.940649</td>\n",
       "      <td>-80.245604</td>\n",
       "      <td>1</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Miscellaneous Shop</td>\n",
       "      <td>Strip Club</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Grocery Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Coral Way Village</td>\n",
       "      <td>Westchester</td>\n",
       "      <td>25.747305</td>\n",
       "      <td>-80.317700</td>\n",
       "      <td>1</td>\n",
       "      <td>Spa</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Cafeteria</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Market</td>\n",
       "      <td>Gas Station</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Greek Restaurant</td>\n",
       "      <td>Grocery Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>Cutler</td>\n",
       "      <td>Palmetto Bay</td>\n",
       "      <td>25.601008</td>\n",
       "      <td>-80.335983</td>\n",
       "      <td>0</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Lighthouse</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>Dadeland</td>\n",
       "      <td>Kendall</td>\n",
       "      <td>25.689273</td>\n",
       "      <td>-80.314201</td>\n",
       "      <td>1</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Jewelry Store</td>\n",
       "      <td>Kids Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>Green-Mar Acres</td>\n",
       "      <td>Kendall</td>\n",
       "      <td>25.670937</td>\n",
       "      <td>-80.342831</td>\n",
       "      <td>1</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Art Gallery</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>Hawley Heights</td>\n",
       "      <td>Kendall</td>\n",
       "      <td>25.671813</td>\n",
       "      <td>-80.354861</td>\n",
       "      <td>1</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Caf</td>\n",
       "      <td>Bed &amp; Breakfast</td>\n",
       "      <td>Soccer Field</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>Howard</td>\n",
       "      <td>Kendall</td>\n",
       "      <td>25.647326</td>\n",
       "      <td>-80.334219</td>\n",
       "      <td>1</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Hardware Store</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Burger Joint</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>Lake Lucerne</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.965092</td>\n",
       "      <td>-80.241438</td>\n",
       "      <td>3</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Casino</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>Lakes by the Bay</td>\n",
       "      <td>Cutler Bay</td>\n",
       "      <td>25.572329</td>\n",
       "      <td>-80.325331</td>\n",
       "      <td>1</td>\n",
       "      <td>Housing Development</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>Norwood (Norland)</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.952025</td>\n",
       "      <td>-80.224928</td>\n",
       "      <td>4</td>\n",
       "      <td>Park</td>\n",
       "      <td>Auto Workshop</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>Saga Bay</td>\n",
       "      <td>Cutler Bay</td>\n",
       "      <td>25.580373</td>\n",
       "      <td>-80.324675</td>\n",
       "      <td>1</td>\n",
       "      <td>Beach</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Concert Hall</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>Scott Lake</td>\n",
       "      <td>Miami Gardens</td>\n",
       "      <td>25.941482</td>\n",
       "      <td>-80.231993</td>\n",
       "      <td>1</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Snack Place</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>South Beach</td>\n",
       "      <td>Miami Beach</td>\n",
       "      <td>25.774429</td>\n",
       "      <td>-80.133241</td>\n",
       "      <td>1</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "      <td>Beach</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Park</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pizza Place</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>West Kendall</td>\n",
       "      <td>Kendall</td>\n",
       "      <td>25.671813</td>\n",
       "      <td>-80.354861</td>\n",
       "      <td>1</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Caf</td>\n",
       "      <td>Bed &amp; Breakfast</td>\n",
       "      <td>Soccer Field</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "         Neighborhood   Municipality   Latitude  Longitude  Cluster Labels  \\\n",
       "0             Andover  Miami Gardens  25.968425 -80.212826               2   \n",
       "1    Biscayne Gardens  Golden Glades  25.921400 -80.217098               1   \n",
       "2         Bunche Park  Miami Gardens  25.920649 -80.236993               4   \n",
       "3          Carol City  Miami Gardens  25.940649 -80.245604               1   \n",
       "4   Coral Way Village    Westchester  25.747305 -80.317700               1   \n",
       "5              Cutler   Palmetto Bay  25.601008 -80.335983               0   \n",
       "6            Dadeland        Kendall  25.689273 -80.314201               1   \n",
       "7     Green-Mar Acres        Kendall  25.670937 -80.342831               1   \n",
       "8      Hawley Heights        Kendall  25.671813 -80.354861               1   \n",
       "9              Howard        Kendall  25.647326 -80.334219               1   \n",
       "10       Lake Lucerne  Miami Gardens  25.965092 -80.241438               3   \n",
       "11   Lakes by the Bay     Cutler Bay  25.572329 -80.325331               1   \n",
       "12  Norwood (Norland)  Miami Gardens  25.952025 -80.224928               4   \n",
       "13           Saga Bay     Cutler Bay  25.580373 -80.324675               1   \n",
       "14         Scott Lake  Miami Gardens  25.941482 -80.231993               1   \n",
       "15        South Beach    Miami Beach  25.774429 -80.133241               1   \n",
       "16       West Kendall        Kendall  25.671813 -80.354861               1   \n",
       "\n",
       "   1st Most Common Venue 2nd Most Common Venue 3rd Most Common Venue  \\\n",
       "0                   Food           Yoga Studio     French Restaurant   \n",
       "1            Bus Station              Building       Airport Service   \n",
       "2     Salon / Barbershop                  Park           Yoga Studio   \n",
       "3   Fast Food Restaurant      Department Store    Seafood Restaurant   \n",
       "4                    Spa                Bakery             Cafeteria   \n",
       "5          Grocery Store            Lighthouse           Yoga Studio   \n",
       "6         Clothing Store      Department Store           Coffee Shop   \n",
       "7            Yoga Studio            Playground           Art Gallery   \n",
       "8                   Pool          Burger Joint           Golf Course   \n",
       "9          Grocery Store            Restaurant        Hardware Store   \n",
       "10            Restaurant                Casino           Yoga Studio   \n",
       "11   Housing Development   American Restaurant                 Trail   \n",
       "12                  Park         Auto Workshop            Food Truck   \n",
       "13                 Beach         Grocery Store          Concert Hall   \n",
       "14   American Restaurant        Discount Store           Snack Place   \n",
       "15                 Hotel        Clothing Store    Seafood Restaurant   \n",
       "16                  Pool          Burger Joint           Golf Course   \n",
       "\n",
       "     4th Most Common Venue 5th Most Common Venue 6th Most Common Venue  \\\n",
       "0        Convenience Store        Cosmetics Shop      Cuban Restaurant   \n",
       "1             Home Service         Train Station           Yoga Studio   \n",
       "2              Coffee Shop     Convenience Store        Cosmetics Shop   \n",
       "3           Sandwich Place    Miscellaneous Shop            Strip Club   \n",
       "4     Fast Food Restaurant                Market           Gas Station   \n",
       "5               Food Truck     Convenience Store        Cosmetics Shop   \n",
       "6   Furniture / Home Store   American Restaurant     Indian Restaurant   \n",
       "7        French Restaurant        Cosmetics Shop      Cuban Restaurant   \n",
       "8                     Caf       Bed & Breakfast          Soccer Field   \n",
       "9      Sporting Goods Shop              Pharmacy    Italian Restaurant   \n",
       "10             Coffee Shop     Convenience Store        Cosmetics Shop   \n",
       "11                     Gym            Food Truck     Convenience Store   \n",
       "12             Yoga Studio     French Restaurant        Cosmetics Shop   \n",
       "13             Yoga Studio     French Restaurant        Cosmetics Shop   \n",
       "14             Yoga Studio            Food Truck     Convenience Store   \n",
       "15                   Beach              Pharmacy    Italian Restaurant   \n",
       "16                    Caf       Bed & Breakfast          Soccer Field   \n",
       "\n",
       "   7th Most Common Venue 8th Most Common Venue   9th Most Common Venue  \\\n",
       "0           Dance Studio         Deli / Bodega        Department Store   \n",
       "1         Cosmetics Shop      Cuban Restaurant            Dance Studio   \n",
       "2       Cuban Restaurant          Dance Studio           Deli / Bodega   \n",
       "3                 Bakery  Caribbean Restaurant                   Trail   \n",
       "4       Sushi Restaurant           Pizza Place        Greek Restaurant   \n",
       "5       Cuban Restaurant          Dance Studio           Deli / Bodega   \n",
       "6     Italian Restaurant   Japanese Restaurant           Jewelry Store   \n",
       "7           Dance Studio         Deli / Bodega        Department Store   \n",
       "8      Convenience Store        Cosmetics Shop        Cuban Restaurant   \n",
       "9   Fast Food Restaurant  Gym / Fitness Center  Furniture / Home Store   \n",
       "10      Cuban Restaurant          Dance Studio           Deli / Bodega   \n",
       "11        Cosmetics Shop      Cuban Restaurant            Dance Studio   \n",
       "12      Cuban Restaurant          Dance Studio           Deli / Bodega   \n",
       "13      Cuban Restaurant          Dance Studio           Deli / Bodega   \n",
       "14        Cosmetics Shop      Cuban Restaurant            Dance Studio   \n",
       "15      Cuban Restaurant                  Park             Coffee Shop   \n",
       "16     Convenience Store        Cosmetics Shop        Cuban Restaurant   \n",
       "\n",
       "   10th Most Common Venue  \n",
       "0          Discount Store  \n",
       "1           Deli / Bodega  \n",
       "2        Department Store  \n",
       "3           Grocery Store  \n",
       "4           Grocery Store  \n",
       "5        Department Store  \n",
       "6              Kids Store  \n",
       "7          Discount Store  \n",
       "8            Dance Studio  \n",
       "9            Burger Joint  \n",
       "10       Department Store  \n",
       "11          Deli / Bodega  \n",
       "12       Department Store  \n",
       "13       Department Store  \n",
       "14          Deli / Bodega  \n",
       "15            Pizza Place  \n",
       "16           Dance Studio  "
      ]
     },
     "execution_count": 324,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#miami_merged.astype({'Cluster Labels':'int'}).dtypes\n",
    "#miami_merged\n",
    "#miami_merged.dropna(axis=0, subset=['Cluster Labels'],inplace=True)\n",
    "#miami_merged\n",
    "#miami_merged.astype({'Cluster Labels':'int'})\n",
    "miami_merged"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Visualizing Clustering Results\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Finding coordinates of Miami \n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 325,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The geograpical coordinate of Miami are 25.7742658, -80.1936589.\n"
     ]
    }
   ],
   "source": [
    "address = 'Miami, FL'\n",
    "\n",
    "geolocator = Nominatim(user_agent=\"MIA_explorer\")\n",
    "location = geolocator.geocode(address)\n",
    "latitude = location.latitude\n",
    "longitude = location.longitude\n",
    "print('The geograpical coordinate of Miami are {}, {}.'.format(latitude, longitude))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Generating plot visualizing clusters of neighborhoods in Miami"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 326,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfNTE5OTI4Mzk1ODYwNDhhNzgzOTkyNWZlMjMwMDkxYzUgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzUxOTkyODM5NTg2MDQ4YTc4Mzk5MjVmZTIzMDA5MWM1IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF81MTk5MjgzOTU4NjA0OGE3ODM5OTI1ZmUyMzAwOTFjNSA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF81MTk5MjgzOTU4NjA0OGE3ODM5OTI1ZmUyMzAwOTFjNScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbMjUuNzc0MjY1OCwtODAuMTkzNjU4OV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfNGQ4NDE0M2Y0ZjYxNDE2NzhlY2JiMjExOTJkN2NhYjYgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTE5OTI4Mzk1ODYwNDhhNzgzOTkyNWZlMjMwMDkxYzUpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI0Yzc4Zjg1Mjg3MDRlNzI4ZjhjMDQ5NTM2MzY5YThlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMjUuOTY4NDI1NSwtODAuMjEyODI1Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81MTk5MjgzOTU4NjA0OGE3ODM5OTI1ZmUyMzAwOTFjNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85Yzg2YWEyMDQyZDg0ZTdiYjQ1ZGRiZGFmMjNlYWRiZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85M2JlMGUyNWU5ODM0Y2JjYTA3YzRmYzE0MWVkNGNhOSA9ICQoJzxkaXYgaWQ9Imh0bWxfOTNiZTBlMjVlOTgzNGNiY2EwN2M0ZmMxNDFlZDRjYTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFuZG92ZXIgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85Yzg2YWEyMDQyZDg0ZTdiYjQ1ZGRiZGFmMjNlYWRiZC5zZXRDb250ZW50KGh0bWxfOTNiZTBlMjVlOTgzNGNiY2EwN2M0ZmMxNDFlZDRjYTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjRjNzhmODUyODcwNGU3MjhmOGMwNDk1MzYzNjlhOGUuYmluZFBvcHVwKHBvcHVwXzljODZhYTIwNDJkODRlN2JiNDVkZGJkYWYyM2VhZGJkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYyOTczYTA3MGJiYjQ2NGFhYjA0MTMxNmNlNzBkOTAxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMjUuOTIxMzk5OSwtODAuMjE3MDk4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzUxOTkyODM5NTg2MDQ4YTc4Mzk5MjVmZTIzMDA5MWM1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI3N2RmOGRmYWI4NDQ1MmI5ODZjZmRhNzAyMTI1MzFiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UwODY4YTI4Njc5NjRjMzk5MzJkMzJkN2NhZTA4ZjllID0gJCgnPGRpdiBpZD0iaHRtbF9lMDg2OGEyODY3OTY0YzM5OTMyZDMyZDdjYWUwOGY5ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmlzY2F5bmUgR2FyZGVucyBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI3N2RmOGRmYWI4NDQ1MmI5ODZjZmRhNzAyMTI1MzFiLnNldENvbnRlbnQoaHRtbF9lMDg2OGEyODY3OTY0YzM5OTMyZDMyZDdjYWUwOGY5ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82Mjk3M2EwNzBiYmI0NjRhYWIwNDEzMTZjZTcwZDkwMS5iaW5kUG9wdXAocG9wdXBfMjc3ZGY4ZGZhYjg0NDUyYjk4NmNmZGE3MDIxMjUzMWIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjM5OTZjNzY3YWJiNDdlZWE1MjdlMzFmODFjZDU4MGYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFsyNS45MjA2NDk1LC04MC4yMzY5OTMyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzUxOTkyODM5NTg2MDQ4YTc4Mzk5MjVmZTIzMDA5MWM1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBhYzZkMjE5YzJmMDRlNjA5MzY1MzIyMGJiMWU2YTRhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZjYjY0MTZmMWY5NDQ5ODA4OTFlMjc0YTc3ZGJlYjUzID0gJCgnPGRpdiBpZD0iaHRtbF9mY2I2NDE2ZjFmOTQ0OTgwODkxZTI3NGE3N2RiZWI1MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QnVuY2hlIFBhcmsgQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wYWM2ZDIxOWMyZjA0ZTYwOTM2NTMyMjBiYjFlNmE0YS5zZXRDb250ZW50KGh0bWxfZmNiNjQxNmYxZjk0NDk4MDg5MWUyNzRhNzdkYmViNTMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjM5OTZjNzY3YWJiNDdlZWE1MjdlMzFmODFjZDU4MGYuYmluZFBvcHVwKHBvcHVwXzBhYzZkMjE5YzJmMDRlNjA5MzY1MzIyMGJiMWU2YTRhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU3M2FjMTUyMWVhZTRiOWRhZmRjNTUyYTc5ODYxNzkyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMjUuOTQwNjQ4OCwtODAuMjQ1NjA0NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81MTk5MjgzOTU4NjA0OGE3ODM5OTI1ZmUyMzAwOTFjNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lNDA0NGEwYjQxYWQ0Yjc0YjBkZGJmMTc4MWU0ODBmOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yMTY3OGQzOGIyZjA0OThhYjlmZTNhYzYwODQwOWUwNCA9ICQoJzxkaXYgaWQ9Imh0bWxfMjE2NzhkMzhiMmYwNDk4YWI5ZmUzYWM2MDg0MDllMDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhcm9sIENpdHkgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lNDA0NGEwYjQxYWQ0Yjc0YjBkZGJmMTc4MWU0ODBmOS5zZXRDb250ZW50KGh0bWxfMjE2NzhkMzhiMmYwNDk4YWI5ZmUzYWM2MDg0MDllMDQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNTczYWMxNTIxZWFlNGI5ZGFmZGM1NTJhNzk4NjE3OTIuYmluZFBvcHVwKHBvcHVwX2U0MDQ0YTBiNDFhZDRiNzRiMGRkYmYxNzgxZTQ4MGY5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk0MjI1NmE0OTA2ZTQ2MmU5MDYzZDMyNzAxMmJjODI4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMjUuNzQ3MzA1MjUsLTgwLjMxNzcwMDI0MjA5ODY3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzUxOTkyODM5NTg2MDQ4YTc4Mzk5MjVmZTIzMDA5MWM1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QwYjk2YmZmOTY2OTQ1MzFiZjcyMTllZTNmNTM0OWU0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFhODgzNTI5OTY4ZTQ2OWNhNDIwYzc4Y2VlYjFjZmI4ID0gJCgnPGRpdiBpZD0iaHRtbF8xYTg4MzUyOTk2OGU0NjljYTQyMGM3OGNlZWIxY2ZiOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q29yYWwgV2F5IFZpbGxhZ2UgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kMGI5NmJmZjk2Njk0NTMxYmY3MjE5ZWUzZjUzNDllNC5zZXRDb250ZW50KGh0bWxfMWE4ODM1Mjk5NjhlNDY5Y2E0MjBjNzhjZWViMWNmYjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTQyMjU2YTQ5MDZlNDYyZTkwNjNkMzI3MDEyYmM4MjguYmluZFBvcHVwKHBvcHVwX2QwYjk2YmZmOTY2OTQ1MzFiZjcyMTllZTNmNTM0OWU0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNhYWU0OWU1NGYxYTRiNTY5MzQzZjEyYzI5YmQ3OGYwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMjUuNjAxMDA4LC04MC4zMzU5ODMxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzUxOTkyODM5NTg2MDQ4YTc4Mzk5MjVmZTIzMDA5MWM1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFhOWM0NTk3NmMyOTQ0ZGE4NGJkOGU4OTdmMTI2MWJhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RmMTlkY2IxNWMwNzQ0MGI4N2ExZjdmYjhjNGY5YmJjID0gJCgnPGRpdiBpZD0iaHRtbF9kZjE5ZGNiMTVjMDc0NDBiODdhMWY3ZmI4YzRmOWJiYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q3V0bGVyIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWE5YzQ1OTc2YzI5NDRkYTg0YmQ4ZTg5N2YxMjYxYmEuc2V0Q29udGVudChodG1sX2RmMTlkY2IxNWMwNzQ0MGI4N2ExZjdmYjhjNGY5YmJjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNhYWU0OWU1NGYxYTRiNTY5MzQzZjEyYzI5YmQ3OGYwLmJpbmRQb3B1cChwb3B1cF8xYTljNDU5NzZjMjk0NGRhODRiZDhlODk3ZjEyNjFiYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82NDQ5Mzc4OGY4OGI0NzhiOTZmZWM5MTVhNTY2NGFhZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzI1LjY4OTI3MywtODAuMzE0MjAwOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81MTk5MjgzOTU4NjA0OGE3ODM5OTI1ZmUyMzAwOTFjNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85ODMwM2Q3ZTUyNTc0ZTBmOThlYjY1ODVmYjNlMWJmZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MzQxY2M0M2I4YTk0ZTg5OTEwMWExMWQ1YmRhNzJiYyA9ICQoJzxkaXYgaWQ9Imh0bWxfNzM0MWNjNDNiOGE5NGU4OTkxMDFhMTFkNWJkYTcyYmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRhZGVsYW5kIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTgzMDNkN2U1MjU3NGUwZjk4ZWI2NTg1ZmIzZTFiZmQuc2V0Q29udGVudChodG1sXzczNDFjYzQzYjhhOTRlODk5MTAxYTExZDViZGE3MmJjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY0NDkzNzg4Zjg4YjQ3OGI5NmZlYzkxNWE1NjY0YWFmLmJpbmRQb3B1cChwb3B1cF85ODMwM2Q3ZTUyNTc0ZTBmOThlYjY1ODVmYjNlMWJmZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNWFhY2Y1NGNhN2E0MTczOWE1MGNjMDZiOTNhZjhjOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzI1LjY3MDkzNjYsLTgwLjM0MjgzMDZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTE5OTI4Mzk1ODYwNDhhNzgzOTkyNWZlMjMwMDkxYzUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjgwZjUxMzNiMjg4NDJiYjljZTVhYWZmNGVlNWNjM2MgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmMxNTE2ZTc3M2M2NDU5ZGEwN2Y5YTA5NDNlMTcyNWYgPSAkKCc8ZGl2IGlkPSJodG1sXzZjMTUxNmU3NzNjNjQ1OWRhMDdmOWEwOTQzZTE3MjVmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HcmVlbi1NYXIgQWNyZXMgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iODBmNTEzM2IyODg0MmJiOWNlNWFhZmY0ZWU1Y2MzYy5zZXRDb250ZW50KGh0bWxfNmMxNTE2ZTc3M2M2NDU5ZGEwN2Y5YTA5NDNlMTcyNWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTVhYWNmNTRjYTdhNDE3MzlhNTBjYzA2YjkzYWY4YzkuYmluZFBvcHVwKHBvcHVwX2I4MGY1MTMzYjI4ODQyYmI5Y2U1YWFmZjRlZTVjYzNjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI5NDgyMDIxOTMzZDQ3YjNhNDI4OGJhNmQ1MDIzNmZmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMjUuNjcxODEyNSwtODAuMzU0ODYwNzUzMTYxOTRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTE5OTI4Mzk1ODYwNDhhNzgzOTkyNWZlMjMwMDkxYzUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDI1ZWY4MzI1YzViNGY4NWE2MGNkZGJmNzBkNDE4OTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjJlNjBmYzliZTNhNGYwYzllZTJiZDc3NjhiZDczODIgPSAkKCc8ZGl2IGlkPSJodG1sX2YyZTYwZmM5YmUzYTRmMGM5ZWUyYmQ3NzY4YmQ3MzgyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IYXdsZXkgSGVpZ2h0cyBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAyNWVmODMyNWM1YjRmODVhNjBjZGRiZjcwZDQxODkwLnNldENvbnRlbnQoaHRtbF9mMmU2MGZjOWJlM2E0ZjBjOWVlMmJkNzc2OGJkNzM4Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yOTQ4MjAyMTkzM2Q0N2IzYTQyODhiYTZkNTAyMzZmZi5iaW5kUG9wdXAocG9wdXBfMDI1ZWY4MzI1YzViNGY4NWE2MGNkZGJmNzBkNDE4OTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTVhNjRkMmZmODdmNGRmZWIzMjdlZjk3NzFmMDQ0YjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFsyNS42NDczMjYyLC04MC4zMzQyMTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzUxOTkyODM5NTg2MDQ4YTc4Mzk5MjVmZTIzMDA5MWM1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE4OWEzMTBhYWFhMjQyODg4ODJjZTgyNDY0ZTM1NTAwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU1ZWMzNDUxM2YzNTQxYzNiYTQxMTc5ZDcyMGJlNGQ0ID0gJCgnPGRpdiBpZD0iaHRtbF81NWVjMzQ1MTNmMzU0MWMzYmE0MTE3OWQ3MjBiZTRkNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SG93YXJkIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTg5YTMxMGFhYWEyNDI4ODg4MmNlODI0NjRlMzU1MDAuc2V0Q29udGVudChodG1sXzU1ZWMzNDUxM2YzNTQxYzNiYTQxMTc5ZDcyMGJlNGQ0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2E1YTY0ZDJmZjg3ZjRkZmViMzI3ZWY5NzcxZjA0NGIxLmJpbmRQb3B1cChwb3B1cF8xODlhMzEwYWFhYTI0Mjg4ODgyY2U4MjQ2NGUzNTUwMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYWM2ZjdmODM4OTI0YmEyYTQxNzIzMzg4Yjg0ZGI1NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzI1Ljk2NTA5MjMsLTgwLjI0MTQzNzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTE5OTI4Mzk1ODYwNDhhNzgzOTkyNWZlMjMwMDkxYzUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTRmMTdmM2EzNzg4NDliYzk2NzNkNjgwZDI0YmViNmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGM5MjBlODFmZTljNGE2NmIxNTQyZGE4ZWE3ODFjZDAgPSAkKCc8ZGl2IGlkPSJodG1sXzBjOTIwZTgxZmU5YzRhNjZiMTU0MmRhOGVhNzgxY2QwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYWtlIEx1Y2VybmUgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81NGYxN2YzYTM3ODg0OWJjOTY3M2Q2ODBkMjRiZWI2ZC5zZXRDb250ZW50KGh0bWxfMGM5MjBlODFmZTljNGE2NmIxNTQyZGE4ZWE3ODFjZDApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmFjNmY3ZjgzODkyNGJhMmE0MTcyMzM4OGI4NGRiNTcuYmluZFBvcHVwKHBvcHVwXzU0ZjE3ZjNhMzc4ODQ5YmM5NjczZDY4MGQyNGJlYjZkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk3M2QwNmUzMmJjYjQ0MTFhNjRkZWEzNWI4ZWVmOTZjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMjUuNTcyMzI4NywtODAuMzI1MzMwOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81MTk5MjgzOTU4NjA0OGE3ODM5OTI1ZmUyMzAwOTFjNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zZDNlYjk0NGQ2OGI0YTUwOTViMjlhNTc1MGE4MDgxNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZWEwMzZhODI0ZjU0ZWZlYWRkOTYwYmZiNmQ2OWM4OSA9ICQoJzxkaXYgaWQ9Imh0bWxfNWVhMDM2YTgyNGY1NGVmZWFkZDk2MGJmYjZkNjljODkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxha2VzIGJ5IHRoZSBCYXkgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zZDNlYjk0NGQ2OGI0YTUwOTViMjlhNTc1MGE4MDgxNC5zZXRDb250ZW50KGh0bWxfNWVhMDM2YTgyNGY1NGVmZWFkZDk2MGJmYjZkNjljODkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTczZDA2ZTMyYmNiNDQxMWE2NGRlYTM1YjhlZWY5NmMuYmluZFBvcHVwKHBvcHVwXzNkM2ViOTQ0ZDY4YjRhNTA5NWIyOWE1NzUwYTgwODE0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I5ODIyOTg1ZjdmYzQ2YjU5YjU4NmFiMzNjMzMzZmIwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMjUuOTUyMDI1MiwtODAuMjI0OTI3OTg0NjAzODVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTE5OTI4Mzk1ODYwNDhhNzgzOTkyNWZlMjMwMDkxYzUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzE0OTYxZWE4YTRhNDE5ZGJkMjIyZjEwYWVmYjI3YjcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWQ2NDY3ZDUxNjg3NGU2MTlmYTVkOTUyNTJlNzVkZTEgPSAkKCc8ZGl2IGlkPSJodG1sXzFkNjQ2N2Q1MTY4NzRlNjE5ZmE1ZDk1MjUyZTc1ZGUxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J3b29kIChOb3JsYW5kKSBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMxNDk2MWVhOGE0YTQxOWRiZDIyMmYxMGFlZmIyN2I3LnNldENvbnRlbnQoaHRtbF8xZDY0NjdkNTE2ODc0ZTYxOWZhNWQ5NTI1MmU3NWRlMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iOTgyMjk4NWY3ZmM0NmI1OWI1ODZhYjMzYzMzM2ZiMC5iaW5kUG9wdXAocG9wdXBfMzE0OTYxZWE4YTRhNDE5ZGJkMjIyZjEwYWVmYjI3YjcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTZiMWFkYzc3ODYwNGM1ZjliOGMzMTg3NTZlYWQzYWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFsyNS41ODAzNzI5LC04MC4zMjQ2NzQ4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzUxOTkyODM5NTg2MDQ4YTc4Mzk5MjVmZTIzMDA5MWM1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBlNzYyNDJjZjZkZDRjMTg4MTFhMmY0NDlkM2E4MTQ1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE0ZTRiMGE2MWRlNjRhODg4MWRjMTQ3Yzk3NTJmYzY4ID0gJCgnPGRpdiBpZD0iaHRtbF8xNGU0YjBhNjFkZTY0YTg4ODFkYzE0N2M5NzUyZmM2OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2FnYSBCYXkgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZTc2MjQyY2Y2ZGQ0YzE4ODExYTJmNDQ5ZDNhODE0NS5zZXRDb250ZW50KGh0bWxfMTRlNGIwYTYxZGU2NGE4ODgxZGMxNDdjOTc1MmZjNjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTZiMWFkYzc3ODYwNGM1ZjliOGMzMTg3NTZlYWQzYWYuYmluZFBvcHVwKHBvcHVwXzBlNzYyNDJjZjZkZDRjMTg4MTFhMmY0NDlkM2E4MTQ1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VhYzhlN2NiYTliZjQwMTliODdkZWEyOTZmYmM5YzJhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMjUuOTQxNDgyLC04MC4yMzE5OTI5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzUxOTkyODM5NTg2MDQ4YTc4Mzk5MjVmZTIzMDA5MWM1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU1MmNkNjYxMjc1NTQ2OTdiYTNjZjg3ZDMwYWViNmMwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzIzODM3YTgyZTdhYjQ0ZjFhNmQ1ZjNjNWZkY2Y4NDFkID0gJCgnPGRpdiBpZD0iaHRtbF8yMzgzN2E4MmU3YWI0NGYxYTZkNWYzYzVmZGNmODQxZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2NvdHQgTGFrZSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU1MmNkNjYxMjc1NTQ2OTdiYTNjZjg3ZDMwYWViNmMwLnNldENvbnRlbnQoaHRtbF8yMzgzN2E4MmU3YWI0NGYxYTZkNWYzYzVmZGNmODQxZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lYWM4ZTdjYmE5YmY0MDE5Yjg3ZGVhMjk2ZmJjOWMyYS5iaW5kUG9wdXAocG9wdXBfNTUyY2Q2NjEyNzU1NDY5N2JhM2NmODdkMzBhZWI2YzApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTFlN2JmMTM4ODIwNGM4MmJjYzNkMTI4YmFiMWRjOTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFsyNS43NzQ0MjkxLC04MC4xMzMyNDE1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzUxOTkyODM5NTg2MDQ4YTc4Mzk5MjVmZTIzMDA5MWM1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI2MjUxZDYyNDI4NTQwY2NhYTE4NGNlMzJkNWZmNDQ4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg5NTQ3NWQxN2M2NjQ4MjY5YWU1ZDU0MGE5NjllYjYzID0gJCgnPGRpdiBpZD0iaHRtbF84OTU0NzVkMTdjNjY0ODI2OWFlNWQ1NDBhOTY5ZWI2MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U291dGggQmVhY2ggQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNjI1MWQ2MjQyODU0MGNjYWExODRjZTMyZDVmZjQ0OC5zZXRDb250ZW50KGh0bWxfODk1NDc1ZDE3YzY2NDgyNjlhZTVkNTQwYTk2OWViNjMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTFlN2JmMTM4ODIwNGM4MmJjYzNkMTI4YmFiMWRjOTUuYmluZFBvcHVwKHBvcHVwXzI2MjUxZDYyNDI4NTQwY2NhYTE4NGNlMzJkNWZmNDQ4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2U4ZmE3ODIyZGUzZDRkYzI4ZTg4OTZmNDQ4OThiZjRmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMjUuNjcxODEyNSwtODAuMzU0ODYwNzUzMTYxOTRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTE5OTI4Mzk1ODYwNDhhNzgzOTkyNWZlMjMwMDkxYzUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzE0ZGZmZWExN2I5NDI0NWIyYWE3YzQ1ZjhjZTJmODAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODBlOWFkODkyNmJlNDNjZThiYzhjN2JiMDhlZTQwOTMgPSAkKCc8ZGl2IGlkPSJodG1sXzgwZTlhZDg5MjZiZTQzY2U4YmM4YzdiYjA4ZWU0MDkzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0IEtlbmRhbGwgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jMTRkZmZlYTE3Yjk0MjQ1YjJhYTdjNDVmOGNlMmY4MC5zZXRDb250ZW50KGh0bWxfODBlOWFkODkyNmJlNDNjZThiYzhjN2JiMDhlZTQwOTMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZThmYTc4MjJkZTNkNGRjMjhlODg5NmY0NDg5OGJmNGYuYmluZFBvcHVwKHBvcHVwX2MxNGRmZmVhMTdiOTQyNDViMmFhN2M0NWY4Y2UyZjgwKTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4= onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x10ba0db50>"
      ]
     },
     "execution_count": 326,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Matplotlib and associated plotting modules\n",
    "import matplotlib.cm as cm\n",
    "import matplotlib.colors as colors\n",
    "\n",
    "# create map\n",
    "map_clusters = folium.Map(location=[latitude, longitude], zoom_start=11)\n",
    "\n",
    "# set color scheme for the clusters\n",
    "x = np.arange(kclusters)\n",
    "ys = [i + x + (i*x)**2 for i in range(kclusters)]\n",
    "colors_array = cm.rainbow(np.linspace(0, 1, len(ys)))\n",
    "rainbow = [colors.rgb2hex(i) for i in colors_array]\n",
    "\n",
    "# add markers to the map\n",
    "markers_colors = []\n",
    "for lat, lon, poi, cluster in zip(miami_merged['Latitude'], miami_merged['Longitude'], miami_merged['Neighborhood'], miami_merged['Cluster Labels']):\n",
    "    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)\n",
    "    folium.CircleMarker(\n",
    "        [lat, lon],\n",
    "        radius=5,\n",
    "        popup=label,\n",
    "        color=rainbow[cluster-1],\n",
    "        fill=True,\n",
    "        fill_color=rainbow[cluster-1],\n",
    "        fill_opacity=0.7).add_to(map_clusters)\n",
    "       \n",
    "map_clusters"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Examining Clusters\n",
    "\n",
    "Determining discriminating venue categories for each cluster"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Cluster1\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 327,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>Cutler</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Lighthouse</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Neighborhood 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "5       Cutler         Grocery Store            Lighthouse   \n",
       "\n",
       "  3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "5           Yoga Studio            Food Truck     Convenience Store   \n",
       "\n",
       "  6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "5        Cosmetics Shop      Cuban Restaurant          Dance Studio   \n",
       "\n",
       "  9th Most Common Venue 10th Most Common Venue  \n",
       "5         Deli / Bodega       Department Store  "
      ]
     },
     "execution_count": 327,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "miami_merged.loc[miami_merged['Cluster Labels'] == 0, miami_merged.columns[[0] + list(range(5, miami_merged.shape[1]))]]\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Cluster2\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 328,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Biscayne Gardens</td>\n",
       "      <td>Bus Station</td>\n",
       "      <td>Building</td>\n",
       "      <td>Airport Service</td>\n",
       "      <td>Home Service</td>\n",
       "      <td>Train Station</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Carol City</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Miscellaneous Shop</td>\n",
       "      <td>Strip Club</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Grocery Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Coral Way Village</td>\n",
       "      <td>Spa</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Cafeteria</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Market</td>\n",
       "      <td>Gas Station</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Greek Restaurant</td>\n",
       "      <td>Grocery Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>Dadeland</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Jewelry Store</td>\n",
       "      <td>Kids Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>Green-Mar Acres</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Art Gallery</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>Hawley Heights</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Caf</td>\n",
       "      <td>Bed &amp; Breakfast</td>\n",
       "      <td>Soccer Field</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>Howard</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Hardware Store</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Burger Joint</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>Lakes by the Bay</td>\n",
       "      <td>Housing Development</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>Saga Bay</td>\n",
       "      <td>Beach</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Concert Hall</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>Scott Lake</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Snack Place</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>South Beach</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "      <td>Beach</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Park</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pizza Place</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>West Kendall</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Caf</td>\n",
       "      <td>Bed &amp; Breakfast</td>\n",
       "      <td>Soccer Field</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "         Neighborhood 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "1    Biscayne Gardens           Bus Station              Building   \n",
       "3          Carol City  Fast Food Restaurant      Department Store   \n",
       "4   Coral Way Village                   Spa                Bakery   \n",
       "6            Dadeland        Clothing Store      Department Store   \n",
       "7     Green-Mar Acres           Yoga Studio            Playground   \n",
       "8      Hawley Heights                  Pool          Burger Joint   \n",
       "9              Howard         Grocery Store            Restaurant   \n",
       "11   Lakes by the Bay   Housing Development   American Restaurant   \n",
       "13           Saga Bay                 Beach         Grocery Store   \n",
       "14         Scott Lake   American Restaurant        Discount Store   \n",
       "15        South Beach                 Hotel        Clothing Store   \n",
       "16       West Kendall                  Pool          Burger Joint   \n",
       "\n",
       "   3rd Most Common Venue   4th Most Common Venue 5th Most Common Venue  \\\n",
       "1        Airport Service            Home Service         Train Station   \n",
       "3     Seafood Restaurant          Sandwich Place    Miscellaneous Shop   \n",
       "4              Cafeteria    Fast Food Restaurant                Market   \n",
       "6            Coffee Shop  Furniture / Home Store   American Restaurant   \n",
       "7            Art Gallery       French Restaurant        Cosmetics Shop   \n",
       "8            Golf Course                    Caf       Bed & Breakfast   \n",
       "9         Hardware Store     Sporting Goods Shop              Pharmacy   \n",
       "11                 Trail                     Gym            Food Truck   \n",
       "13          Concert Hall             Yoga Studio     French Restaurant   \n",
       "14           Snack Place             Yoga Studio            Food Truck   \n",
       "15    Seafood Restaurant                   Beach              Pharmacy   \n",
       "16           Golf Course                    Caf       Bed & Breakfast   \n",
       "\n",
       "   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "1            Yoga Studio        Cosmetics Shop      Cuban Restaurant   \n",
       "3             Strip Club                Bakery  Caribbean Restaurant   \n",
       "4            Gas Station      Sushi Restaurant           Pizza Place   \n",
       "6      Indian Restaurant    Italian Restaurant   Japanese Restaurant   \n",
       "7       Cuban Restaurant          Dance Studio         Deli / Bodega   \n",
       "8           Soccer Field     Convenience Store        Cosmetics Shop   \n",
       "9     Italian Restaurant  Fast Food Restaurant  Gym / Fitness Center   \n",
       "11     Convenience Store        Cosmetics Shop      Cuban Restaurant   \n",
       "13        Cosmetics Shop      Cuban Restaurant          Dance Studio   \n",
       "14     Convenience Store        Cosmetics Shop      Cuban Restaurant   \n",
       "15    Italian Restaurant      Cuban Restaurant                  Park   \n",
       "16          Soccer Field     Convenience Store        Cosmetics Shop   \n",
       "\n",
       "     9th Most Common Venue 10th Most Common Venue  \n",
       "1             Dance Studio          Deli / Bodega  \n",
       "3                    Trail          Grocery Store  \n",
       "4         Greek Restaurant          Grocery Store  \n",
       "6            Jewelry Store             Kids Store  \n",
       "7         Department Store         Discount Store  \n",
       "8         Cuban Restaurant           Dance Studio  \n",
       "9   Furniture / Home Store           Burger Joint  \n",
       "11            Dance Studio          Deli / Bodega  \n",
       "13           Deli / Bodega       Department Store  \n",
       "14            Dance Studio          Deli / Bodega  \n",
       "15             Coffee Shop            Pizza Place  \n",
       "16        Cuban Restaurant           Dance Studio  "
      ]
     },
     "execution_count": 328,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "miami_merged.loc[miami_merged['Cluster Labels'] == 1, miami_merged.columns[[0] + list(range(5, miami_merged.shape[1]))]]\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Cluster3\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 329,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Andover</td>\n",
       "      <td>Food</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Neighborhood 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "0      Andover                  Food           Yoga Studio   \n",
       "\n",
       "  3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "0     French Restaurant     Convenience Store        Cosmetics Shop   \n",
       "\n",
       "  6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "0      Cuban Restaurant          Dance Studio         Deli / Bodega   \n",
       "\n",
       "  9th Most Common Venue 10th Most Common Venue  \n",
       "0      Department Store         Discount Store  "
      ]
     },
     "execution_count": 329,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "miami_merged.loc[miami_merged['Cluster Labels'] == 2, miami_merged.columns[[0] + list(range(5, miami_merged.shape[1]))]]\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Cluster4\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 330,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>Lake Lucerne</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Casino</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "    Neighborhood 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "10  Lake Lucerne            Restaurant                Casino   \n",
       "\n",
       "   3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "10           Yoga Studio           Coffee Shop     Convenience Store   \n",
       "\n",
       "   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "10        Cosmetics Shop      Cuban Restaurant          Dance Studio   \n",
       "\n",
       "   9th Most Common Venue 10th Most Common Venue  \n",
       "10         Deli / Bodega       Department Store  "
      ]
     },
     "execution_count": 330,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "miami_merged.loc[miami_merged['Cluster Labels'] == 3, miami_merged.columns[[0] + list(range(5, miami_merged.shape[1]))]]\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Cluster5\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 331,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Bunche Park</td>\n",
       "      <td>Salon / Barbershop</td>\n",
       "      <td>Park</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>Norwood (Norland)</td>\n",
       "      <td>Park</td>\n",
       "      <td>Auto Workshop</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "         Neighborhood 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "2         Bunche Park    Salon / Barbershop                  Park   \n",
       "12  Norwood (Norland)                  Park         Auto Workshop   \n",
       "\n",
       "   3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "2            Yoga Studio           Coffee Shop     Convenience Store   \n",
       "12            Food Truck           Yoga Studio     French Restaurant   \n",
       "\n",
       "   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "2         Cosmetics Shop      Cuban Restaurant          Dance Studio   \n",
       "12        Cosmetics Shop      Cuban Restaurant          Dance Studio   \n",
       "\n",
       "   9th Most Common Venue 10th Most Common Venue  \n",
       "2          Deli / Bodega       Department Store  \n",
       "12         Deli / Bodega       Department Store  "
      ]
     },
     "execution_count": 331,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "miami_merged.loc[miami_merged['Cluster Labels'] == 4, miami_merged.columns[[0] + list(range(5, miami_merged.shape[1]))]]\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
